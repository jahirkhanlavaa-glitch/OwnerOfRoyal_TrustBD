<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ROYAL TRUST BD - সম্পূর্ণ এডমিন প্যানেল</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ============================================ */
        /* সম্পূর্ণ স্টাইলিং - সম্পূর্ণ রেসপন্সিভ */
        /* ============================================ */
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }

        body { 
            font-family: 'Hind Siliguri', sans-serif; 
            overflow-x: hidden;
            background: #f7fafc;
        }

        /* ============================================ */
        /* এডমিন কন্টেইনার */
        /* ============================================ */
        .admin-container {
            display: flex;
            min-height: 100vh;
            position: relative;
        }

        /* ============================================ */
        /* সাইডবার - সম্পূর্ণ আপডেটেড */
        /* ============================================ */
        .sidebar {
            width: 300px;
            background: linear-gradient(180deg, #1e1e2f 0%, #2d2d44 100%);
            color: white;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 50;
            overflow-y: auto;
            overflow-x: hidden;
            box-shadow: 2px 0 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .sidebar.collapsed {
            transform: translateX(-300px);
        }

        /* ============================================ */
        /* সাইডবার হেডার */
        /* ============================================ */
        .sidebar-header {
            padding: 30px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            background: rgba(0,0,0,0.2);
        }

        .logo-container {
            width: 80px;
            height: 80px;
            background: #dc2626;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.2);
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* ============================================ */
        /* সাইডবার নেভিগেশন */
        /* ============================================ */
        .sidebar-nav {
            flex: 1;
            padding: 20px 15px;
        }

        .nav-section {
            margin-bottom: 25px;
        }

        .nav-section-title {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: rgba(255,255,255,0.5);
            margin-bottom: 10px;
            padding-left: 15px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 10px;
            color: rgba(255,255,255,0.8);
            transition: all 0.3s ease;
            margin-bottom: 5px;
            cursor: pointer;
            position: relative;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            color: white;
            transform: translateX(5px);
        }

        .nav-item.active {
            background: #dc2626;
            color: white;
            box-shadow: 0 5px 15px rgba(220,38,38,0.3);
        }

        .nav-item i {
            width: 24px;
            text-align: center;
            margin-right: 12px;
            font-size: 18px;
        }

        .nav-item .badge {
            position: absolute;
            right: 15px;
            background: #ef4444;
            color: white;
            border-radius: 20px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: bold;
        }

        /* ============================================ */
        /* সাইডবার ফুটার */
        /* ============================================ */
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            background: #4b5563;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            border: 2px solid #dc2626;
        }

        .logout-btn {
            width: 100%;
            padding: 12px;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .logout-btn:hover {
            background: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220,38,38,0.3);
        }

        /* ============================================ */
        /* মেইন কন্টেন্ট */
        /* ============================================ */
        .main-content {
            flex: 1;
            margin-left: 300px;
            min-height: 100vh;
            background: #f7fafc;
            transition: margin-left 0.3s ease;
        }

        /* ============================================ */
        /* মোবাইল হেডার */
        /* ============================================ */
        .mobile-header {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 40;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        /* ============================================ */
        /* কন্টেন্ট হেডার */
        /* ============================================ */
        .content-header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 20px 30px;
        }

        .header-title {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
        }

        .header-subtitle {
            color: #64748b;
            font-size: 14px;
            margin-top: 5px;
        }

        /* ============================================ */
        /* স্ট্যাট কার্ড */
        /* ============================================ */
        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            border-color: #cbd5e1;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        /* ============================================ */
        /* টেবিল স্টাইল */
        /* ============================================ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }

        .data-table th {
            background: #f8fafc;
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
            font-size: 14px;
        }

        .data-table td {
            padding: 16px;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: middle;
        }

        .data-table tr:hover td {
            background: #f8fafc;
        }

        /* ============================================ */
        /* স্ট্যাটাস ব্যাজ */
        /* ============================================ */
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-pending { background: #fef3c7; color: #92400e; }
        .status-confirmed { background: #dbeafe; color: #1e40af; }
        .status-processing { background: #f3e8ff; color: #7c3aed; }
        .status-shipped { background: #e0f2fe; color: #0c4a6e; }
        .status-delivered { background: #d1fae5; color: #065f46; }
        .status-cancelled { background: #fee2e2; color: #991b1b; }

        .badge-success { background: #d1fae5; color: #065f46; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-danger { background: #fee2e2; color: #991b1b; }
        .badge-info { background: #e0f2fe; color: #0c4a6e; }

        /* ============================================ */
        /* মডাল */
        /* ============================================ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
            animation: modalSlideUp 0.3s ease;
        }

        @keyframes modalSlideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ============================================ */
        /* ফর্ম এলিমেন্ট */
        /* ============================================ */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #334155;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #dc2626;
            box-shadow: 0 0 0 3px rgba(220,38,38,0.1);
        }

        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            min-height: 100px;
            resize: vertical;
        }

        /* ============================================ */
        /* বাটন */
        /* ============================================ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
            font-size: 15px;
            gap: 8px;
        }

        .btn-primary {
            background: #dc2626;
            color: white;
        }

        .btn-primary:hover {
            background: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220,38,38,0.3);
        }

        .btn-secondary {
            background: #64748b;
            color: white;
        }

        .btn-secondary:hover {
            background: #475569;
        }

        .btn-outline {
            background: transparent;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        .btn-outline:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
        }

        /* ============================================ */
        /* ইমেজ আপলোড */
        /* ============================================ */
        .image-upload-area {
            border: 2px dashed #e2e8f0;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .image-upload-area:hover {
            border-color: #dc2626;
            background: #fef2f2;
        }

        .image-upload-area.has-image {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .image-preview {
            max-width: 100%;
            max-height: 200px;
            border-radius: 12px;
            margin-top: 15px;
            display: none;
            object-fit: cover;
        }

        .image-preview.show {
            display: block;
        }

        /* ============================================ */
        /* কালার ইমেজ প্রিভিউ */
        /* ============================================ */
        .color-image-preview {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            object-fit: cover;
            border: 2px solid #e2e8f0;
            margin-top: 10px;
        }

        .color-image-upload {
            border: 2px dashed #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .color-image-upload:hover {
            border-color: #4299e1;
            background: #edf2f7;
        }

        .color-image-upload.has-image {
            border-color: #48bb78;
            background: #f0fff4;
        }

        /* ============================================ */
        /* ট্যাব */
        /* ============================================ */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 20px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            position: relative;
            transition: all 0.3s ease;
            border-radius: 8px 8px 0 0;
        }

        .tab-btn:hover {
            color: #dc2626;
            background: #fef2f2;
        }

        .tab-btn.active {
            color: #dc2626;
            background: #fee2e2;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: #dc2626;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ============================================ */
        /* সুইচ টগল */
        /* ============================================ */
        .switch {
            position: relative;
            display: inline-block;
            width: 52px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e1;
            transition: .3s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .3s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #dc2626;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* ============================================ */
        /* নোটিফিকেশন */
        /* ============================================ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            z-index: 9999;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            animation: slideIn 0.3s ease;
            max-width: 400px;
        }

        .notification.success { background: #10b981; }
        .notification.error { background: #ef4444; }
        .notification.warning { background: #f59e0b; }
        .notification.info { background: #3b82f6; }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* ============================================ */
        /* নোটিফিকেশন ড্রপডাউন */
        /* ============================================ */
        .notification-dropdown {
            position: absolute;
            top: 60px;
            right: 0;
            width: 400px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            z-index: 100;
            display: none;
            max-height: 500px;
            overflow-y: auto;
        }

        .notification-dropdown.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .notification-item {
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .notification-item:hover {
            background: #f8fafc;
        }

        .notification-item.unread {
            background: #fef2f2;
            border-left: 3px solid #dc2626;
        }

        .notification-item .time {
            font-size: 12px;
            color: #6b7280;
        }

        /* ============================================ */
        /* লোডিং স্পিনার */
        /* ============================================ */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ============================================ */
        /* কালার অপশন প্রিভিউ */
        /* ============================================ */
        .color-option-preview {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ============================================ */
        /* অ্যালার্ট */
        /* ============================================ */
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        /* ============================================ */
        /* ফাইল ইনপুট কাস্টম */
        /* ============================================ */
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            cursor: pointer;
            height: 100%;
            width: 100%;
        }

        /* ============================================ */
        /* টেবিল রেস্পন্সিভ */
        /* ============================================ */
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .overflow-x-auto {
            -webkit-overflow-scrolling: touch !important;
            scrollbar-width: thin !important;
        }

        .overflow-x-auto::-webkit-scrollbar {
            height: 4px !important;
        }

        .overflow-x-auto::-webkit-scrollbar-thumb {
            background: #cbd5e1 !important;
            border-radius: 4px !important;
        }

        .overflow-x-auto::-webkit-scrollbar-track {
            background: #f1f5f9 !important;
        }

        /* ============================================ */
        /* প্রিন্ট স্টাইল */
        /* ============================================ */
        @media print {
            .sidebar, 
            .mobile-header, 
            .btn, 
            .no-print { 
                display: none !important; 
            }
            .main-content { 
                margin-left: 0 !important; 
            }
        }

        /* ============================================ */
        /* মোবাইল রেস্পন্সিভ - 640px এর নিচে */
        /* ============================================ */
        @media (max-width: 640px) {
            /* Sidebar */
            .sidebar {
                width: 280px !important;
                transform: translateX(-280px);
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            /* Main Content */
            .main-content {
                margin-left: 0 !important;
                padding: 0 !important;
                padding-top: 70px !important;
            }
            
            /* Content Area */
            .p-6 {
                padding: 16px !important;
            }
            
            /* Mobile Header */
            .mobile-header {
                display: flex !important;
                height: 60px !important;
                padding: 0 16px !important;
            }
            
            .mobile-header h1 {
                font-size: 18px !important;
            }
            
            .mobile-header .fa-bars,
            .mobile-header .fa-bell {
                font-size: 20px !important;
            }
            
            /* Desktop Header */
            .desktop-only {
                display: none !important;
            }
            
            /* Sidebar Overlay */
            .sidebar-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 49;
            }
            
            .sidebar-overlay.active {
                display: block;
            }
            
            /* Statistics Cards */
            .grid {
                gap: 16px !important;
            }
            
            .stat-card {
                padding: 16px !important;
                margin-bottom: 0 !important;
            }
            
            .stat-card .text-3xl {
                font-size: 24px !important;
            }
            
            .stat-icon {
                width: 48px !important;
                height: 48px !important;
                font-size: 20px !important;
            }
            
            /* Charts */
            .grid-cols-1.lg\:grid-cols-2 {
                grid-template-columns: 1fr !important;
            }
            
            canvas {
                max-height: 200px !important;
                width: 100% !important;
            }
            
            /* Tables */
            .data-table {
                font-size: 13px !important;
            }
            
            .data-table th,
            .data-table td {
                padding: 12px 8px !important;
                white-space: nowrap !important;
            }
            
            .data-table td:first-child,
            .data-table th:first-child {
                position: sticky !important;
                left: 0 !important;
                background: white !important;
                z-index: 5 !important;
            }
            
            .data-table th:first-child {
                background: #f8fafc !important;
            }
            
            /* Product Table Column Widths */
            .data-table td:nth-child(1),
            .data-table th:nth-child(1) {
                min-width: 60px !important;
            }
            
            .data-table td:nth-child(2),
            .data-table th:nth-child(2) {
                min-width: 120px !important;
            }
            
            .data-table td:nth-child(3),
            .data-table th:nth-child(3) {
                min-width: 100px !important;
            }
            
            .data-table td:nth-child(4),
            .data-table th:nth-child(4) {
                min-width: 80px !important;
            }
            
            .data-table td:nth-child(5),
            .data-table th:nth-child(5) {
                min-width: 70px !important;
            }
            
            .data-table td:nth-child(6),
            .data-table th:nth-child(6) {
                min-width: 80px !important;
            }
            
            .data-table td:nth-child(7),
            .data-table th:nth-child(7) {
                min-width: 80px !important;
            }
            
            /* Status Badges */
            .status-badge {
                padding: 4px 8px !important;
                font-size: 11px !important;
                white-space: nowrap !important;
            }
            
            /* Buttons */
            .btn {
                padding: 10px 16px !important;
                font-size: 14px !important;
                min-height: 44px !important;
                min-width: 44px !important;
            }
            
            .btn i {
                margin-right: 4px !important;
            }
            
            /* Forms */
            .form-input,
            .form-textarea {
                padding: 10px 12px !important;
                font-size: 16px !important; /* iOS zoom fix */
            }
            
            .form-label {
                font-size: 13px !important;
                margin-bottom: 4px !important;
            }
            
            /* Switch Toggle */
            .switch {
                width: 48px !important;
                height: 24px !important;
            }
            
            .slider:before {
                height: 18px !important;
                width: 18px !important;
            }
            
            input:checked + .slider:before {
                transform: translateX(24px) !important;
            }
            
            /* Modals */
            .modal-content {
                width: 95% !important;
                margin: 10px !important;
                padding: 16px !important;
                max-height: 85vh !important;
            }
            
            .modal .p-6 {
                padding: 16px !important;
            }
            
            /* Grid Layouts */
            .grid-cols-1.md\:grid-cols-2,
            .grid-cols-1.md\:grid-cols-3,
            .grid-cols-2 {
                grid-template-columns: 1fr !important;
                gap: 12px !important;
            }
            
            /* Product Modal */
            #colors-container > div {
                padding: 16px !important;
            }
            
            .color-image-upload {
                padding: 12px !important;
            }
            
            .color-image-upload i {
                font-size: 20px !important;
            }
            
            .color-image-preview {
                width: 60px !important;
                height: 60px !important;
            }
            
            /* Slider Modal */
            .tabs {
                flex-wrap: wrap !important;
                gap: 4px !important;
            }
            
            .tab-btn {
                padding: 8px 12px !important;
                font-size: 13px !important;
                flex: 1 1 auto !important;
                min-height: 44px !important;
            }
            
            .image-upload-area {
                padding: 20px !important;
            }
            
            .image-upload-area i {
                font-size: 24px !important;
                margin-bottom: 8px !important;
            }
            
            .image-upload-area p {
                font-size: 13px !important;
            }
            
            /* Order Modal */
            #order-details .grid {
                gap: 12px !important;
            }
            
            #order-details .bg-gray-50 {
                padding: 14px !important;
            }
            
            #order-details p {
                font-size: 13px !important;
                margin-bottom: 6px !important;
            }
            
            #order-details .text-lg {
                font-size: 16px !important;
            }
            
            /* Reviews Page */
            .w-12.h-12 {
                width: 40px !important;
                height: 40px !important;
                font-size: 16px !important;
            }
            
            .text-lg {
                font-size: 16px !important;
            }
            
            #reviews-list .border {
                padding: 16px !important;
            }
            
            #reviews-list .flex {
                flex-wrap: wrap !important;
            }
            
            #reviews-list .flex.justify-between {
                flex-direction: column !important;
                align-items: flex-start !important;
                gap: 12px !important;
            }
            
            #reviews-list .flex.space-x-3 {
                flex-wrap: wrap !important;
                width: 100% !important;
            }
            
            #reviews-list .btn-outline {
                flex: 1 1 auto !important;
                padding: 8px !important;
                font-size: 12px !important;
            }
            
            /* Sliders Page */
            #sliders-page .lg:w-1\/3,
            #sliders-page .lg:w-2\/3 {
                width: 100% !important;
            }
            
            #sliders-page .flex-col.lg:flex-row {
                flex-direction: column !important;
            }
            
            #sliders-page .grid-cols-2.md\:grid-cols-4 {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            
            /* Contacts Page */
            #contacts-list .flex.justify-between.items-start {
                flex-direction: column !important;
                gap: 8px !important;
            }
            
            #contacts-list .flex.items-start {
                width: 100% !important;
            }
            
            #contacts-list .flex.items-center.space-x-2 {
                width: 100% !important;
                justify-content: flex-start !important;
            }
            
            #contacts-list .btn-outline {
                padding: 6px 12px !important;
                font-size: 12px !important;
            }
            
            /* Coupons Page */
            #coupons-page .grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
                grid-template-columns: 1fr !important;
            }
            
            #coupons-page .border {
                padding: 16px !important;
            }
            
            #coupons-page .text-2xl {
                font-size: 20px !important;
            }
            
            /* Settings Page */
            #settings-form .space-y-8 > div {
                padding: 16px !important;
            }
            
            #settings-form h4 {
                font-size: 16px !important;
                margin-bottom: 16px !important;
            }
            
            #settings-form .flex.items-center.space-x-3 {
                flex-wrap: wrap !important;
                gap: 8px !important;
            }
            
            #logo-upload,
            #favicon-upload {
                padding: 16px !important;
            }
            
            .w-32.h-32 {
                width: 80px !important;
                height: 80px !important;
            }
            
            /* Orders Page */
            #order-status-filter,
            #order-search {
                width: 100% !important;
                margin-bottom: 8px !important;
            }
            
            .flex.space-x-3 {
                flex-wrap: wrap !important;
                gap: 8px !important;
            }
            
            .flex.space-x-3 > * {
                width: 100% !important;
                margin-left: 0 !important;
            }
            
            /* Notifications */
            .notification {
                left: 16px !important;
                right: 16px !important;
                max-width: none !important;
                padding: 12px 16px !important;
                font-size: 14px !important;
            }
            
            .notification-dropdown {
                position: fixed !important;
                top: 60px !important;
                left: 16px !important;
                right: 16px !important;
                width: auto !important;
                max-width: none !important;
                max-height: 70vh !important;
                z-index: 1001 !important;
            }
            
            .notification-item {
                padding: 12px 16px !important;
            }
            
            .notification-item .flex-1 p {
                font-size: 13px !important;
            }
            
            .notification-item .text-xs {
                font-size: 11px !important;
            }
            
            /* Quick Actions */
            .w-10.h-10 {
                width: 36px !important;
                height: 36px !important;
            }
            
            .w-10.h-10 i {
                font-size: 16px !important;
            }
            
            /* Login Page */
            #login-page .max-w-md {
                margin: 20px !important;
                padding: 24px !important;
            }
            
            #login-page .w-24.h-24 {
                width: 80px !important;
                height: 80px !important;
            }
            
            #login-page h1 {
                font-size: 24px !important;
            }
            
            /* Sidebar Footer */
            .sidebar-footer {
                position: sticky !important;
                bottom: 0 !important;
                width: 100% !important;
                padding: 16px !important;
            }
            
            .user-avatar {
                width: 40px !important;
                height: 40px !important;
            }
            
            .logout-btn {
                padding: 10px !important;
                font-size: 14px !important;
                min-height: 44px !important;
            }
            
            /* Category Grid */
            .grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
                grid-template-columns: 1fr !important;
            }
            
            .border.border-gray-200.rounded-lg.p-5 {
                padding: 16px !important;
            }
            
            .w-12.h-12 {
                width: 40px !important;
                height: 40px !important;
            }
            
            .w-12.h-12 i {
                font-size: 18px !important;
            }
            
            /* Product List */
            .w-16.h-16 {
                width: 48px !important;
                height: 48px !important;
            }
            
            /* Dashboard Cards */
            .stat-card {
                margin-bottom: 0 !important;
            }
            
            .stat-card .flex {
                flex-wrap: wrap !important;
            }
            
            .stat-card .text-gray-500.text-sm {
                font-size: 12px !important;
            }
            
            .border-t {
                margin-top: 12px !important;
                padding-top: 12px !important;
            }
            
            /* Loading Spinner */
            .flex.justify-center.items-center.h-64 {
                height: 200px !important;
            }
            
            .spinner {
                width: 24px !important;
                height: 24px !important;
            }
            
            /* Error Messages */
            .flex.flex-col.items-center.justify-center.h-64 {
                height: auto !important;
                min-height: 200px !important;
                padding: 24px !important;
            }
            
            .flex.flex-col h3 {
                font-size: 18px !important;
            }
            
            .flex.space-x-4 {
                flex-direction: column !important;
                gap: 8px !important;
                width: 100% !important;
            }
            
            .flex.space-x-4 .btn {
                width: 100% !important;
                margin: 0 !important;
            }
            
            /* Touch Targets */
            button,
            .btn,
            .nav-item,
            .tab-btn,
            .color-option,
            .image-upload-area,
            [onclick] {
                min-height: 44px !important;
                min-width: 44px !important;
            }
            
            /* Mobile Menu Button */
            #mobile-menu-btn,
            #mobile-notification-btn {
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                width: 44px !important;
                height: 44px !important;
            }
        }

        /* ============================================ */
        /* ট্যাবলেট ডিভাইস - 641px থেকে 768px */
        /* ============================================ */
        @media (min-width: 641px) and (max-width: 768px) {
            .sidebar {
                width: 260px !important;
            }
            
            .main-content {
                margin-left: 260px !important;
            }
            
            .stat-card {
                padding: 20px !important;
            }
            
            .stat-icon {
                width: 52px !important;
                height: 52px !important;
            }
            
            .grid-cols-1.md\:grid-cols-2 {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .grid-cols-1.md\:grid-cols-3 {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .modal-content {
                max-width: 90% !important;
            }
        }

        /* ============================================ */
        /* মোবাইল ল্যান্ডস্কেপ মোড */
        /* ============================================ */
        @media (max-width: 896px) and (orientation: landscape) {
            .sidebar {
                width: 240px !important;
            }
            
            .modal-content {
                max-height: 85vh !important;
            }
            
            .notification-dropdown {
                max-height: 60vh !important;
            }
            
            .stat-card {
                padding: 12px !important;
            }
            
            .stat-card .text-3xl {
                font-size: 20px !important;
            }
        }

        /* ============================================ */
        /* খুব ছোট ডিভাইস - 360px এর নিচে */
        /* ============================================ */
        @media (max-width: 360px) {
            .sidebar {
                width: 240px !important;
            }
            
            .p-6 {
                padding: 12px !important;
            }
            
            .stat-card {
                padding: 12px !important;
            }
            
            .stat-card .text-3xl {
                font-size: 20px !important;
            }
            
            .stat-icon {
                width: 40px !important;
                height: 40px !important;
                font-size: 18px !important;
            }
            
            .btn {
                padding: 8px 14px !important;
                font-size: 13px !important;
            }
            
            .modal-content {
                padding: 12px !important;
            }
            
            .header-title {
                font-size: 18px !important;
            }
            
            .header-subtitle {
                font-size: 12px !important;
            }
        }


        /* ============================================ */
        /* মোবাইল ড্যাশবোর্ড - সম্পূর্ণ রিডিজাইন */
        /* ============================================ */
        @media (max-width: 640px) {
            
            /* ========== ড্যাশবোর্ড কার্ড ========== */
            .dashboard-stats .grid,
            .grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 {
                display: block !important;
            }
            
            .stat-card {
                width: 100% !important;
                margin-bottom: 12px !important;
                padding: 16px !important;
                display: flex !important;
                flex-direction: column !important;
            }
            
            .stat-card .flex {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                width: 100% !important;
            }
            
            .stat-card .text-3xl {
                font-size: 28px !important;
                font-weight: 700 !important;
            }
            
            .stat-card .text-sm {
                font-size: 13px !important;
            }
            
            .stat-icon {
                width: 52px !important;
                height: 52px !important;
                border-radius: 14px !important;
            }
            
            .stat-icon i {
                font-size: 24px !important;
            }
            
            .border-t {
                margin-top: 12px !important;
                padding-top: 12px !important;
            }
            
            /* ========== চার্ট ========== */
            .grid-cols-1.lg\:grid-cols-2 {
                display: block !important;
            }
            
            .bg-white.rounded-xl.p-6 {
                padding: 16px !important;
                margin-bottom: 16px !important;
            }
            
            canvas {
                max-height: 200px !important;
                width: 100% !important;
            }
            
            /* ========== সাম্প্রতিক অর্ডার ========== */
            .bg-white.rounded-xl.border.border-gray-200.mb-8 {
                margin-bottom: 20px !important;
            }
            
            .p-6.border-b {
                padding: 16px !important;
            }
            
            .p-6 {
                padding: 16px !important;
            }
            
            /* অর্ডার টেবিল - কার্ড ভিউ */
            .data-table {
                display: none !important;
            }
            
            .mobile-order-cards {
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
            }
            
            .order-card {
                background: white !important;
                border: 1px solid #e2e8f0 !important;
                border-radius: 16px !important;
                padding: 16px !important;
                box-shadow: 0 2px 4px rgba(0,0,0,0.02) !important;
            }
            
            .order-card-header {
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                margin-bottom: 12px !important;
            }
            
            .order-id {
                font-family: monospace !important;
                font-size: 15px !important;
                font-weight: 700 !important;
                color: #dc2626 !important;
                background: #fee2e2 !important;
                padding: 6px 12px !important;
                border-radius: 20px !important;
                letter-spacing: 0.5px !important;
            }
            
            .order-status-badge {
                font-size: 12px !important;
                padding: 6px 14px !important;
                border-radius: 20px !important;
                font-weight: 600 !important;
                text-transform: uppercase !important;
            }
            
            .order-card-body {
                display: flex !important;
                flex-direction: column !important;
                gap: 10px !important;
                margin-bottom: 16px !important;
            }
            
            .order-info-row {
                display: flex !important;
                align-items: flex-start !important;
                gap: 12px !important;
            }
            
            .order-info-icon {
                width: 32px !important;
                height: 32px !important;
                background: #f1f5f9 !important;
                border-radius: 10px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                color: #64748b !important;
                flex-shrink: 0 !important;
            }
            
            .order-info-content {
                flex: 1 !important;
            }
            
            .order-info-label {
                font-size: 12px !important;
                color: #64748b !important;
                margin-bottom: 2px !important;
            }
            
            .order-info-value {
                font-size: 15px !important;
                font-weight: 600 !important;
                color: #0f172a !important;
            }
            
            .order-customer {
                font-weight: 700 !important;
                color: #0f172a !important;
            }
            
            .order-phone {
                font-size: 13px !important;
                color: #64748b !important;
            }
            
            .order-product {
                font-size: 15px !important;
                font-weight: 600 !important;
                color: #0f172a !important;
            }
            
            .order-price {
                font-size: 18px !important;
                font-weight: 700 !important;
                color: #dc2626 !important;
            }
            
            .order-date {
                font-size: 12px !important;
                color: #64748b !important;
                display: flex !important;
                align-items: center !important;
                gap: 4px !important;
            }
            
            .order-card-footer {
                display: flex !important;
                justify-content: flex-end !important;
                padding-top: 12px !important;
                border-top: 1px solid #e2e8f0 !important;
            }
            
            .view-order-btn {
                background: #dc2626 !important;
                color: white !important;
                padding: 10px 20px !important;
                border-radius: 12px !important;
                font-size: 14px !important;
                font-weight: 600 !important;
                display: flex !important;
                align-items: center !important;
                gap: 8px !important;
                width: 100% !important;
                justify-content: center !important;
                border: none !important;
                cursor: pointer !important;
            }
            
            .view-order-btn i {
                font-size: 14px !important;
            }
            
            /* ========== পণ্য ব্যবস্থাপনা ========== */
            #products-page .bg-white {
                padding: 0 !important;
            }
            
            #products-page .p-6 {
                padding: 0 !important;
            }
            
            /* পণ্য টেবিল লুকান */
            #products-page .data-table {
                display: none !important;
            }
            
            /* পণ্য কার্ড গ্রিড */
            .mobile-product-grid {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 16px !important;
                padding: 0 !important;
            }
            
            .product-card-mobile {
                background: white !important;
                border: 1px solid #e2e8f0 !important;
                border-radius: 20px !important;
                overflow: hidden !important;
                box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02) !important;
            }
            
            .product-card-header {
                display: flex !important;
                padding: 16px !important;
                gap: 16px !important;
                border-bottom: 1px solid #f1f5f9 !important;
            }
            
            .product-image {
                width: 100px !important;
                height: 100px !important;
                border-radius: 16px !important;
                object-fit: cover !important;
                border: 1px solid #e2e8f0 !important;
                flex-shrink: 0 !important;
            }
            
            .product-info {
                flex: 1 !important;
            }
            
            .product-name-bn {
                font-size: 17px !important;
                font-weight: 700 !important;
                color: #0f172a !important;
                margin-bottom: 4px !important;
                line-height: 1.3 !important;
            }
            
            .product-name-en {
                display: none; /* ইংরেজি নাম দেখাব না */
            }
            
            .product-category {
                display: inline-block !important;
                background: #f1f5f9 !important;
                color: #475569 !important;
                padding: 4px 12px !important;
                border-radius: 20px !important;
                font-size: 12px !important;
                font-weight: 600 !important;
                margin-bottom: 8px !important;
            }
            
            .product-price-section {
                display: flex !important;
                align-items: baseline !important;
                gap: 8px !important;
                flex-wrap: wrap !important;
            }
            
            .product-offer-price {
                font-size: 20px !important;
                font-weight: 700 !important;
                color: #dc2626 !important;
            }
            
            .product-regular-price {
                font-size: 14px !important;
                color: #94a3b8 !important;
                text-decoration: line-through !important;
            }
            
            .product-discount {
                background: #dc2626 !important;
                color: white !important;
                padding: 4px 10px !important;
                border-radius: 20px !important;
                font-size: 12px !important;
                font-weight: 700 !important;
            }
            
            .product-card-body {
                padding: 16px !important;
            }
            
            .product-colors {
                margin-bottom: 16px !important;
            }
            
            .color-title {
                font-size: 13px !important;
                color: #475569 !important;
                margin-bottom: 8px !important;
                font-weight: 600 !important;
            }
            
            .color-list {
                display: flex !important;
                flex-wrap: wrap !important;
                gap: 8px !important;
            }
            
            .color-item {
                display: flex !important;
                align-items: center !important;
                gap: 6px !important;
                background: #f8fafc !important;
                padding: 6px 12px !important;
                border-radius: 30px !important;
                border: 1px solid #e2e8f0 !important;
            }
            
            .color-dot {
                width: 20px !important;
                height: 20px !important;
                border-radius: 50% !important;
                border: 2px solid white !important;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
            }
            
            .color-name {
                font-size: 13px !important;
                font-weight: 500 !important;
            }
            
            .product-size {
                margin-bottom: 16px !important;
            }
            
            .size-title {
                font-size: 13px !important;
                color: #475569 !important;
                margin-bottom: 8px !important;
                font-weight: 600 !important;
            }
            
            .size-chips {
                display: flex !important;
                flex-wrap: wrap !important;
                gap: 8px !important;
            }
            
            .size-chip {
                background: #f8fafc !important;
                padding: 6px 14px !important;
                border-radius: 30px !important;
                font-size: 13px !important;
                font-weight: 600 !important;
                border: 1px solid #e2e8f0 !important;
            }
            
            .product-status {
                display: flex !important;
                align-items: center !important;
                gap: 8px !important;
                margin-bottom: 16px !important;
            }
            
            .status-indicator {
                width: 10px !important;
                height: 10px !important;
                border-radius: 50% !important;
            }
            
            .status-active {
                background: #10b981 !important;
            }
            
            .status-inactive {
                background: #ef4444 !important;
            }
            
            .product-actions {
                display: flex !important;
                gap: 12px !important;
                padding-top: 16px !important;
                border-top: 1px solid #e2e8f0 !important;
            }
            
            .product-edit-btn,
            .product-delete-btn {
                flex: 1 !important;
                padding: 12px !important;
                border-radius: 12px !important;
                font-size: 14px !important;
                font-weight: 600 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 8px !important;
                border: none !important;
                cursor: pointer !important;
            }
            
            .product-edit-btn {
                background: #3b82f6 !important;
                color: white !important;
            }
            
            .product-delete-btn {
                background: #ef4444 !important;
                color: white !important;
            }
            
            /* ========== অর্ডার ব্যবস্থাপনা ========== */
            #orders-page .bg-white {
                padding: 0 !important;
            }
            
            #orders-page .p-6 {
                padding: 0 !important;
            }
            
            /* অর্ডার ফিল্টার সার্চ */
            #orders-page .flex.space-x-3 {
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
                padding: 16px !important;
            }
            
            #order-status-filter,
            #order-search {
                width: 100% !important;
                margin: 0 !important;
                padding: 14px !important;
                font-size: 15px !important;
                border-radius: 12px !important;
                border: 1px solid #e2e8f0 !important;
            }
            
            /* অর্ডার টেবিল লুকান */
            #orders-page .data-table {
                display: none !important;
            }
            
            /* অর্ডার কার্ড গ্রিড */
            .mobile-orders-grid {
                display: flex !important;
                flex-direction: column !important;
                gap: 16px !important;
                padding: 0 16px !important;
            }
            
            .mobile-order-card {
                background: white !important;
                border: 1px solid #e2e8f0 !important;
                border-radius: 20px !important;
                overflow: hidden !important;
                box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02) !important;
            }
            
            .mobile-order-header {
                background: #f8fafc !important;
                padding: 16px !important;
                border-bottom: 1px solid #e2e8f0 !important;
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
            }
            
            .mobile-order-id {
                font-family: monospace !important;
                font-size: 16px !important;
                font-weight: 700 !important;
                color: #0f172a !important;
            }
            
            .mobile-order-status {
                font-size: 12px !important;
                padding: 6px 14px !important;
                border-radius: 30px !important;
                font-weight: 700 !important;
                text-transform: uppercase !important;
                letter-spacing: 0.5px !important;
            }
            
            .mobile-order-body {
                padding: 16px !important;
            }
            
            .mobile-order-detail {
                display: flex !important;
                align-items: flex-start !important;
                gap: 12px !important;
                margin-bottom: 16px !important;
            }
            
            .mobile-order-icon {
                width: 44px !important;
                height: 44px !important;
                background: #fee2e2 !important;
                border-radius: 14px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                color: #dc2626 !important;
                flex-shrink: 0 !important;
            }
            
            .mobile-order-icon i {
                font-size: 20px !important;
            }
            
            .mobile-order-info {
                flex: 1 !important;
            }
            
            .mobile-order-label {
                font-size: 12px !important;
                color: #64748b !important;
                margin-bottom: 4px !important;
            }
            
            .mobile-order-value {
                font-size: 16px !important;
                font-weight: 700 !important;
                color: #0f172a !important;
            }
            
            .mobile-order-sub {
                font-size: 14px !important;
                color: #475569 !important;
                margin-top: 4px !important;
            }
            
            .mobile-order-price {
                font-size: 22px !important;
                font-weight: 800 !important;
                color: #dc2626 !important;
                margin: 16px 0 !important;
                text-align: right !important;
            }
            
            .mobile-order-footer {
                display: flex !important;
                gap: 12px !important;
                padding: 16px !important;
                border-top: 1px solid #e2e8f0 !important;
            }
            
            .mobile-view-btn {
                flex: 1 !important;
                background: #dc2626 !important;
                color: white !important;
                padding: 14px !important;
                border-radius: 14px !important;
                font-size: 15px !important;
                font-weight: 600 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 8px !important;
                border: none !important;
                cursor: pointer !important;
            }
            
            /* ========== ক্যাটাগরি ========== */
            .grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
                display: flex !important;
                flex-direction: column !important;
                gap: 16px !important;
            }
            
            .border.border-gray-200.rounded-lg.p-5 {
                margin-bottom: 0 !important;
                padding: 20px !important;
            }
            
            .w-12.h-12 {
                width: 48px !important;
                height: 48px !important;
            }
            
            .w-12.h-12 i {
                font-size: 22px !important;
            }
            
            /* ========== স্লাইডার ========== */
            #sliders-page .border {
                padding: 20px !important;
            }
            
            #sliders-page .lg:w-1\/3 {
                width: 100% !important;
                margin-bottom: 16px !important;
            }
            
            #sliders-page .h-48 {
                height: 200px !important;
            }
            
            .grid-cols-2.md\:grid-cols-4 {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            
            /* ========== কন্টাক্ট ========== */
            #contacts-list .border {
                padding: 20px !important;
            }
            
            #contacts-list .flex.justify-between.items-start {
                flex-direction: column !important;
                gap: 12px !important;
            }
            
            #contacts-list .flex.items-start {
                width: 100% !important;
            }
            
            #contacts-list .flex.space-x-3 {
                flex-wrap: wrap !important;
                width: 100% !important;
            }
            
            #contacts-list .btn-outline {
                flex: 1 1 calc(50% - 8px) !important;
                margin: 0 !important;
                padding: 12px !important;
                font-size: 13px !important;
            }
            
            /* ========== কুপন ========== */
            #coupons-page .border {
                padding: 20px !important;
            }
            
            #coupons-page .text-2xl {
                font-size: 22px !important;
            }
            
            .grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
                display: flex !important;
                flex-direction: column !important;
                gap: 16px !important;
            }
            
            /* ========== সেটিংস ========== */
            #settings-form .bg-gray-50 {
                padding: 20px !important;
            }
            
            #settings-form .grid-cols-1.md\:grid-cols-2,
            #settings-form .grid-cols-1.md\:grid-cols-3 {
                display: flex !important;
                flex-direction: column !important;
                gap: 16px !important;
            }
            
            #settings-form .flex.items-center.space-x-3 {
                display: flex !important;
                align-items: center !important;
                gap: 16px !important;
            }
            
            /* ========== ড্যাশবোর্ড কুইক অ্যাকশন ========== */
            .grid-cols-1.lg\:grid-cols-2 {
                display: block !important;
            }
            
            .bg-white.rounded-xl.p-6 {
                margin-bottom: 16px !important;
                padding: 20px !important;
            }
            
            .w-full.text-left.p-4 {
                padding: 16px !important;
                display: flex !important;
                align-items: center !important;
                gap: 16px !important;
            }
            
            .w-10.h-10 {
                width: 48px !important;
                height: 48px !important;
                flex-shrink: 0 !important;
            }
            
            .w-10.h-10 i {
                font-size: 20px !important;
            }
        }

        /* ============================================ */
        /* ট্যাবলেট ডিভাইসের জন্য স্পেশাল */
        /* ============================================ */
        @media (min-width: 641px) and (max-width: 768px) {
            
            /* ড্যাশবোর্ড */
            .grid-cols-1.sm\:grid-cols-2.lg\:grid-cols-4 {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 16px !important;
            }
            
            /* পণ্য গ্রিড */
            .mobile-product-grid {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 16px !important;
            }
            
            /* অর্ডার কার্ড */
            .mobile-orders-grid {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 16px !important;
            }
            
            /* ক্যাটাগরি */
            .grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 16px !important;
            }
            
            /* স্লাইডার */
            #sliders-page .flex-col.lg\:flex-row {
                display: flex !important;
                gap: 20px !important;
            }
            
            #sliders-page .lg:w-1\/3 {
                width: 40% !important;
            }
            
            #sliders-page .lg:w-2\/3 {
                width: 60% !important;
            }
        }

        /* ============================================ */
        /* ডেস্কটপে টেবিল দেখান, মোবাইলে লুকান */
        /* ============================================ */
        .mobile-order-cards,
        .mobile-product-grid,
        .mobile-orders-grid {
            display: none;
        }

        @media (max-width: 640px) {
            .mobile-order-cards,
            .mobile-product-grid,
            .mobile-orders-grid {
                display: block !important;
            }
            
            .mobile-product-grid {
                display: grid !important;
            }
            
            .mobile-orders-grid {
                display: flex !important;
            }
        }


        /* ============================================ */
/* মোবাইলের জন্য মডাল ফিক্সেস */
/* ============================================ */
@media (max-width: 640px) {
    /* মডালকে নিচ থেকে স্লাইড আপ করা */
    .modal {
        align-items: flex-end !important;
        padding: 0 !important;
    }
    
    .modal-content {
        width: 100% !important;
        max-height: 90vh !important;
        margin: 0 !important;
        border-radius: 20px 20px 0 0 !important;
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        top: auto !important;
        transform: none !important;
        animation: slideUp 0.3s ease !important;
    }
    
    @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
    }
    
    /* মডাল ওপেন থাকলে ব্যাকগ্রাউন্ড স্ক্রল বন্ধ */
    body.modal-open {
        overflow: hidden !important;
        position: fixed;
        width: 100%;
    }
    
    /* ক্লোজ বাটন বড় ও ট্যাপ সহজ */
    .modal .border-b button {
        min-width: 44px !important;
        min-height: 44px !important;
        font-size: 24px !important;
    }
    
    /* ফর্ম এলিমেন্টগুলো বড় ও সহজে ট্যাপযোগ্য */
    .form-input,
    .form-textarea,
    .btn,
    select {
        font-size: 16px !important;
        padding: 14px !important;
    }
    
    /* রঙের তালিকা ও সাইজ চিপস মোড়ানো */
    .color-list,
    .size-chips {
        flex-wrap: wrap !important;
        gap: 8px !important;
    }
    
    .color-item {
        flex: 1 1 calc(50% - 8px) !important;
        min-width: 120px !important;
    }
    
    /* ইমেজ প্রিভিউ রেসপন্সিভ */
    .color-image-preview {
        max-width: 100% !important;
        height: auto !important;
        width: auto !important;
    }
    
    /* ট্যাব বাটনগুলো রেসপন্সিভ */
    .tabs {
        flex-wrap: wrap !important;
    }
    
    .tab-btn {
        flex: 1 1 auto !important;
        font-size: 14px !important;
        padding: 12px 8px !important;
        min-height: 44px !important;
    }
    
    /* মডালের ফুটার বাটনগুলো স্ট্যাক করুন */
    .flex.justify-end.space-x-4 {
        flex-direction: column !important;
        gap: 12px !important;
    }
    
    .flex.justify-end.space-x-4 .btn {
        width: 100% !important;
        margin-left: 0 !important;
    }
    
    /* কালার আপলোড এলাকা ছোট পর্দায় সামঞ্জস্য */
    .color-image-upload {
        padding: 12px !important;
    }
    
    /* মডালের শিরোনাম মার্জিন ঠিক করা */
    .modal .p-6.border-b {
        padding: 16px !important;
    }
    
    .modal .p-6.border-b h3 {
        font-size: 18px !important;
    }
}
    </style>   
</head>
<body>

<!-- ============================================ -->
<!-- লগইন পেজ - সম্পূর্ণ আপডেটেড -->
<!-- ============================================ -->
<div id="login-page" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 via-white to-red-50">
    <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md mx-4 border border-gray-100">
        <div class="text-center mb-8">
            <div class="w-24 h-24 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4 overflow-hidden border-4 border-red-200">
                <img src="https://res.cloudinary.com/dorpsn4nf/image/upload/v1770951385/royal_trust/branding/bmduvmepuazebqphm2j5.png" alt="ROYAL TRUST BD" class="w-full h-full object-contain">
            </div>
            <h1 class="text-3xl font-bold text-red-700 mb-2">ROYAL TRUST BD</h1>
            <p class="text-gray-600">এডমিন প্যানেল - সম্পূর্ণ নিয়ন্ত্রণ</p>
        </div>
        
        <form id="login-form" class="space-y-6">
            <div>
                <label class="block text-gray-700 mb-2 text-sm font-medium">
                    <i class="fas fa-user mr-2 text-red-600"></i>
                    ব্যবহারকারীর নাম
                </label>
                <input type="text" id="username" required 
                       class="w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent transition duration-300"
                       placeholder="ব্যবহারকারীর নাম লিখুন"
                       >
            </div>
            
            <div>
                <label class="block text-gray-700 mb-2 text-sm font-medium">
                    <i class="fas fa-lock mr-2 text-red-600"></i>
                    পাসওয়ার্ড
                </label>
                <input type="password" id="password" required 
                       class="w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent transition duration-300"
                       placeholder="পাসওয়ার্ড লিখুন"
                       >
            </div>
            
            <div id="login-error" class="text-red-600 text-center hidden bg-red-50 p-4 rounded-xl border border-red-200">
                <i class="fas fa-exclamation-circle mr-2"></i>
                <span id="login-error-text">ভুল ব্যবহারকারীর নাম বা পাসওয়ার্ড!</span>
            </div>
            
            <button type="submit" id="login-btn" class="w-full bg-red-700 hover:bg-red-800 text-white font-bold py-4 rounded-xl transition duration-300 flex items-center justify-center text-lg">
                <i class="fas fa-sign-in-alt mr-2"></i>
                <span>লগইন করুন</span>
            </button>
        </form>

        <!-- <div class="mt-8 pt-6 border-t border-gray-200">
            <div class="text-center text-gray-600 text-sm">
                <p class="mb-2">
                    <i class="fas fa-server mr-2 text-blue-600"></i>
                    ব্যাকএন্ড API:
                </p>
                <p id="api-url" class="font-mono text-blue-600 bg-blue-50 p-3 rounded-lg text-xs break-all">https://ownerofroyal-trustbd.onrender.com</p>
                <p class="mt-4 text-gray-500 text-xs">
                    <i class="fas fa-info-circle mr-1"></i>
                    ডিফল্ট লগইন: admin / admin123
                </p>
            </div>
        </div> -->
    </div>
</div>

<!-- ============================================ -->
<!-- এডমিন প্যানেল - সম্পূর্ণ ফ্রন্টএন্ড নিয়ন্ত্রণ -->
<!-- ============================================ -->
<div id="admin-panel" class="admin-container hidden">
    
    <!-- Mobile Header -->
    <div class="mobile-header">
        <button id="mobile-menu-btn" class="text-gray-700 p-2 rounded-lg hover:bg-gray-100">
            <i class="fas fa-bars text-2xl"></i>
        </button>
        <h1 class="text-xl font-bold text-red-700">ROYAL TRUST BD</h1>
        <div class="relative">
            <button id="mobile-notification-btn" class="text-gray-700 p-2 rounded-lg hover:bg-gray-100 relative">
                <i class="fas fa-bell text-2xl"></i>
                <span id="mobile-notification-count" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
            </button>
            <div id="mobile-notification-dropdown" class="notification-dropdown"></div>
        </div>
    </div>
    
    <!-- Sidebar Overlay (Mobile) -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>
    
    <!-- Sidebar - সম্পূর্ণ মেনু -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <img src="https://res.cloudinary.com/dorpsn4nf/image/upload/v1770951385/royal_trust/branding/bmduvmepuazebqphm2j5.png" alt="ROYAL TRUST BD">
            </div>
            <h2 class="text-xl font-bold text-white">ROYAL TRUST BD</h2>
            <p class="text-gray-400 text-sm mt-1">সম্পূর্ণ এডমিন প্যানেল</p>
        </div>
        
        <div class="sidebar-nav">
            <!-- প্রধান মেনু -->
            <div class="nav-section">
                <h3 class="nav-section-title">মূল মেনু</h3>
                <div class="nav-item active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>ড্যাশবোর্ড</span>
                </div>
                <div class="nav-item" data-page="products">
                    <i class="fas fa-tshirt"></i>
                    <span>পণ্য ব্যবস্থাপনা</span>
                </div>
                <div class="nav-item" data-page="categories">
                    <i class="fas fa-tags"></i>
                    <span>ক্যাটাগরি</span>
                </div>
                <div class="nav-item" data-page="orders">
                    <i class="fas fa-shopping-cart"></i>
                    <span>অর্ডার</span>
                    <span class="badge" id="order-badge">0</span>
                </div>
                <div class="nav-item" data-page="reviews">
                    <i class="fas fa-star"></i>
                    <span>রিভিউ</span>
                    <span class="badge" id="review-badge">0</span>
                </div>
            </div>
            
            <!-- কন্টেন্ট মেনু -->
            <div class="nav-section">
                <h3 class="nav-section-title">কন্টেন্ট</h3>
                <div class="nav-item" data-page="sliders">
                    <i class="fas fa-images"></i>
                    <span>স্লাইডার</span>
                </div>
                <div class="nav-item" data-page="coupons">
                    <i class="fas fa-ticket-alt"></i>
                    <span>কুপন</span>
                </div>
            </div>
            
            <!-- সেটিংস -->
            <div class="nav-section">
                <h3 class="nav-section-title">কনফিগারেশন</h3>
                <div class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>ওয়েবসাইট সেটিংস</span>
                </div>
            </div>
        </div>
        
        <!-- Sidebar Footer -->
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user text-white text-xl"></i>
                </div>
                <div>
                    <p id="logged-in-user" class="font-bold text-white">Admin</p>
                    <p class="text-gray-400 text-xs">এডমিনিস্ট্রেটর</p>
                </div>
            </div>
            <button id="logout-btn" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                লগআউট
            </button>
        </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="main-content" id="main-content">
        <!-- Desktop Header -->
        <div class="content-header desktop-only">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="header-title" id="page-title">ড্যাশবোর্ড</h1>
                    <p class="header-subtitle" id="page-subtitle">সর্বশেষ আপডেট এবং পরিসংখ্যান</p>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Notification Bell -->
                    <div class="relative">
                        <button id="notification-btn" class="text-gray-700 p-2 hover:bg-gray-100 rounded-lg relative">
                            <i class="fas fa-bell text-xl"></i>
                            <span id="notification-count" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                        </button>
                        <div id="notification-dropdown" class="notification-dropdown"></div>
                    </div>
                    
                    <!-- Date & Time -->
                    <div class="text-right">
                        <p class="text-sm text-gray-600" id="current-date"></p>
                        <p class="text-lg font-semibold text-gray-800" id="current-time"></p>
                    </div>
                    <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dynamic Content Area -->
        <div class="p-6" id="content-area">
            <!-- Content will be loaded here -->
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- মডাল - পণ্য ব্যবস্থাপনা -->
<!-- ============================================ -->
<div id="product-modal" class="modal">
    <div class="modal-content">
        <div class="p-6 border-b border-gray-200 bg-gradient-to-r from-red-50 to-white">
            <div class="flex justify-between items-center">
                <h3 class="text-2xl font-bold text-gray-800" id="product-modal-title">
                    <i class="fas fa-plus-circle text-red-600 mr-2"></i>
                    নতুন পণ্য যোগ করুন
                </h3>
                <button onclick="hideProductModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
        </div>
        <form id="product-form" class="p-6 space-y-6">
            <input type="hidden" id="product-id">
            
            <!-- Basic Information -->
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-tag text-red-600 mr-1"></i>
                    পণ্যের নাম *
                </label>
                <input type="text" id="product-name" required class="form-input" placeholder="যেমন: রয়েল সিল্ক পাঞ্জাবি">
            </div>
            
            <!-- Category -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-folder text-red-600 mr-1"></i>
                        ক্যাটাগরি *
                    </label>
                    <select id="product-category" required class="form-input">
                        <option value="">ক্যাটাগরি নির্বাচন করুন</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-star text-red-600 mr-1"></i>
                        ফিচার্ড পণ্য
                    </label>
                    <div class="flex items-center space-x-4">
                        <label class="switch">
                            <input type="checkbox" id="product-featured">
                            <span class="slider"></span>
                        </label>
                        <span id="product-featured-text">না</span>
                    </div>
                </div>
            </div>
            
            <!-- Description -->
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-align-left text-red-600 mr-1"></i>
                    বর্ণনা *
                </label>
                <textarea id="product-description" required rows="4" class="form-textarea" placeholder="বাংলায় পণ্যের বিবরণ"></textarea>
            </div>
            
            <!-- Color Management -->
            <div class="form-group">
                <label class="form-label text-lg font-bold text-gray-800 mb-4">
                    <i class="fas fa-palette text-red-600 mr-2"></i>
                    রংসমূহ
                </label>
                <div id="colors-container" class="space-y-6"></div>
                <button type="button" id="add-color-btn" class="mt-4 btn btn-outline w-full flex items-center justify-center">
                    <i class="fas fa-plus-circle mr-2"></i>
                    নতুন রং যোগ করুন
                </button>
            </div>
            
            <!-- Size & Price -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-ruler text-red-600 mr-1"></i>
                        সাইজ *
                    </label>
                    <input type="text" id="product-size" required class="form-input" placeholder="S, M, L, XL, XXL">
                    <p class="text-xs text-gray-500 mt-1">কমা (,) দিয়ে আলাদা করুন</p>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-money-bill text-red-600 mr-1"></i>
                        নিয়মিত দাম *
                    </label>
                    <input type="number" id="regular-price" required class="form-input" min="0" step="1">
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-money-bill-wave text-red-600 mr-1"></i>
                        অফার দাম *
                    </label>
                    <input type="number" id="offer-price" required class="form-input" min="0" step="1">
                </div>
            </div>
            
            <!-- Discount & Status -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-percent text-red-600 mr-1"></i>
                        ছাড়ের শতাংশ
                    </label>
                    <input type="number" id="offer-percentage" class="form-input bg-gray-50" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-check-circle text-red-600 mr-1"></i>
                        স্ট্যাটাস
                    </label>
                    <div class="flex items-center space-x-4">
                        <label class="switch">
                            <input type="checkbox" id="product-status" checked>
                            <span class="slider"></span>
                        </label>
                        <span id="product-status-text">সক্রিয়</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-star text-red-600 mr-1"></i>
                        নিউ অ্যারাইভাল
                    </label>
                    <div class="flex items-center space-x-4">
                        <label class="switch">
                            <input type="checkbox" id="product-new-arrival" checked>
                            <span class="slider"></span>
                        </label>
                        <span id="product-new-arrival-text">হ্যাঁ</span>
                    </div>
                </div>
            </div>
            
            <!-- Features -->
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-list-check text-red-600 mr-1"></i>
                    ফিচারসমূহ
                </label>
                <div id="features-container">
                    <div class="flex mb-2">
                        <input type="text" class="form-input flex-1" placeholder="যেমন: ১০০% খাঁটি সিল্ক">
                        <button type="button" class="ml-2 text-green-600 hover:text-green-800 add-feature-btn">
                            <i class="fas fa-plus-circle text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Material & Fit -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">মেটেরিয়াল</label>
                    <input type="text" id="product-material" class="form-input" placeholder="যেমন: সিল্ক, কটন">
                </div>
                <div class="form-group">
                    <label class="form-label">ফিট</label>
                    <input type="text" id="product-fit" class="form-input" placeholder="যেমন: স্লিম ফিট">
                </div>
            </div>
            
            <!-- Care Instructions -->
            <div class="form-group">
                <label class="form-label">কেয়ার ইন্সট্রাকশন</label>
                <textarea id="product-care" rows="2" class="form-textarea" placeholder="যেমন: ড্রাই ক্লিন করুন"></textarea>
            </div>
            
            <!-- Stock -->
            <div class="form-group">
                <label class="form-label">
                    <i class="fas fa-boxes text-red-600 mr-1"></i>
                    স্টক পরিমাণ
                </label>
                <input type="number" id="product-stock" class="form-input" min="0" value="100">
            </div>
            
            <!-- Submit Buttons -->
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button type="button" id="cancel-product-btn" class="btn btn-outline">
                    <i class="fas fa-times mr-2"></i>
                    বাতিল করুন
                </button>
                <button type="submit" id="save-product-btn" class="btn btn-primary">
                    <i class="fas fa-save mr-2"></i>
                    সেভ করুন
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ============================================ -->
<!-- মডাল - ক্যাটাগরি -->
<!-- ============================================ -->
<div id="category-modal" class="modal">
    <div class="modal-content max-w-lg">
        <div class="p-6 border-b border-gray-200">
            <h3 class="text-xl font-bold" id="category-modal-title">নতুন ক্যাটাগরি</h3>
        </div>
        <form id="category-form" class="p-6 space-y-6">
            <input type="hidden" id="category-id">
            
            <div class="form-group">
                <label class="form-label">ক্যাটাগরি নাম *</label>
                <input type="text" id="category-name" required class="form-input" placeholder="পাঞ্জাবি">
            </div>
            
            <div class="form-group">
                <label class="form-label">বিবরণ</label>
                <textarea id="category-description" rows="3" class="form-textarea"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">আইকন</label>
                <select id="category-icon" class="form-input">
                    <option value="fa-tshirt">টি-শার্ট</option>
                    <option value="fa-shirt">শার্ট</option>
                    <option value="fa-vest">পাঞ্জাবি</option>
                    <option value="fa-dumbbell">ফিটনেস</option>
                    <option value="fa-shoe-prints">জুতা</option>
                </select>
            </div>
            
            <div class="grid grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">অর্ডার</label>
                    <input type="number" id="category-order" class="form-input" value="0">
                </div>
                <div class="form-group">
                    <label class="form-label">স্ট্যাটাস</label>
                    <div class="flex items-center space-x-4">
                        <label class="switch">
                            <input type="checkbox" id="category-status" checked>
                            <span class="slider"></span>
                        </label>
                        <span id="category-status-text">সক্রিয়</span>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button type="button" id="cancel-category-btn" class="btn btn-outline">বাতিল</button>
                <button type="submit" class="btn btn-primary">সেভ করুন</button>
            </div>
        </form>
    </div>
</div>

<!-- ============================================ -->
<!-- মডাল - স্লাইডার -->
<!-- ============================================ -->
<div id="slider-modal" class="modal">
    <div class="modal-content max-w-4xl">
        <div class="p-6 border-b border-gray-200">
            <h3 class="text-xl font-bold" id="slider-modal-title">নতুন স্লাইডার</h3>
        </div>
        <form id="slider-form" class="p-6 space-y-6">
            <input type="hidden" id="slider-id">
            
            <div class="form-group">
                <label class="form-label">স্লাইডার নম্বর *</label>
                <input type="number" id="slider-number" required class="form-input" min="1">
            </div>
            
            <!-- Image Upload Tabs -->
            <div class="form-group">
                <label class="form-label">স্লাইডার ইমেজ *</label>
                <div class="tabs">
                    <button type="button" class="tab-btn active" data-tab="slider-url-tab">URL লিংক</button>
                    <button type="button" class="tab-btn" data-tab="slider-upload-tab">ফাইল আপলোড</button>
                    <button type="button" class="tab-btn" data-tab="slider-mobile-tab">মোবাইল ইমেজ</button>
                </div>
                
                <div id="slider-url-tab" class="tab-content active">
                    <input type="text" id="slider-image-url" class="form-input" placeholder="https://example.com/image.jpg">
                    <img id="slider-url-preview" class="image-preview mt-4">
                </div>
                
                <div id="slider-upload-tab" class="tab-content">
                    <div class="image-upload-area" id="slider-image-upload">
                        <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-3"></i>
                        <p class="font-medium">ছবি আপলোড করুন</p>
                        <p class="text-gray-500 text-sm mt-1">PNG, JPG, JPEG, WEBP (Max 5MB)</p>
                        <input type="file" id="slider-image-file" accept="image/*" class="hidden">
                        <input type="hidden" id="slider-image-base64">
                    </div>
                    <img id="slider-upload-preview" class="image-preview">
                </div>
                
                <div id="slider-mobile-tab" class="tab-content">
                    <div class="image-upload-area" id="slider-mobile-upload">
                        <i class="fas fa-mobile-alt text-4xl text-gray-400 mb-3"></i>
                        <p class="font-medium">মোবাইলের জন্য আলাদা ইমেজ</p>
                        <p class="text-gray-500 text-sm mt-1">অপশনাল</p>
                        <input type="file" id="slider-mobile-file" accept="image/*" class="hidden">
                        <input type="hidden" id="slider-mobile-base64">
                    </div>
                    <img id="slider-mobile-preview" class="image-preview">
                </div>
            </div>
            
            <!-- Content -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">শিরোনাম *</label>
                    <input type="text" id="slider-title" required class="form-input" placeholder="বাংলায় শিরোনাম">
                </div>
                <div class="form-group">
                    <label class="form-label">সাবটাইটেল *</label>
                    <input type="text" id="slider-subtitle" required class="form-input" placeholder="বাংলায় সাবটাইটেল">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">বর্ণনা *</label>
                <textarea id="slider-description" required rows="3" class="form-textarea" placeholder="বাংলায় বর্ণনা"></textarea>
            </div>
            
            <!-- Badge & Price -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="form-group">
                    <label class="form-label">ব্যাজ টেক্সট</label>
                    <input type="text" id="slider-badge-text" class="form-input" placeholder="যেমন: সীমিত সময়ের অফার">
                </div>
                <div class="form-group">
                    <label class="form-label">ব্যাজ কালার</label>
                    <select id="slider-badge-color" class="form-input">
                        <option value="red">লাল</option>
                        <option value="blue">নীল</option>
                        <option value="green">সবুজ</option>
                        <option value="yellow">হলুদ</option>
                        <option value="purple">বেগুনী</option>
                    </select>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">দাম</label>
                    <input type="number" id="slider-price" class="form-input" min="0">
                </div>
                <div class="form-group">
                    <label class="form-label">আসল দাম</label>
                    <input type="number" id="slider-original-price" class="form-input" min="0">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">বাটন টেক্সট</label>
                    <input type="text" id="slider-button-text" class="form-input" value="অর্ডার করুন">
                </div>
                <div class="form-group">
                    <label class="form-label">বাটন লিংক</label>
                    <input type="text" id="slider-button-link" class="form-input" value="#order">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">স্ট্যাটাস</label>
                <div class="flex items-center space-x-4">
                    <label class="switch">
                        <input type="checkbox" id="slider-status" checked>
                        <span class="slider"></span>
                    </label>
                    <span id="slider-status-text">সক্রিয়</span>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button type="button" id="cancel-slider-btn" class="btn btn-outline">বাতিল</button>
                <button type="submit" class="btn btn-primary">সেভ করুন</button>
            </div>
        </form>
    </div>
</div>

<!-- ============================================ -->
<!-- মডাল - অর্ডার বিবরণ -->
<!-- ============================================ -->
<div id="order-modal" class="modal">
    <div class="modal-content max-w-3xl">
        <div class="p-6 border-b border-gray-200">
            <h3 class="text-xl font-bold">অর্ডার বিবরণ</h3>
        </div>
        <div class="p-6 space-y-6">
            <div id="order-details"></div>
            
            <div class="form-group">
                <label class="form-label">স্ট্যাটাস পরিবর্তন করুন</label>
                <select id="order-status-select" class="form-input">
                    <option value="pending">পেন্ডিং</option>
                    <option value="confirmed">কনফার্মড</option>
                    <option value="processing">প্রসেসিং</option>
                    <option value="shipped">শিপড</option>
                    <option value="delivered">ডেলিভার্ড</option>
                    <option value="cancelled">ক্যান্সেলড</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">নোটস (গ্রাহকের জন্য)</label>
                <textarea id="order-notes" rows="3" class="form-textarea"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">এডমিন নোটস</label>
                <textarea id="order-admin-notes" rows="2" class="form-textarea"></textarea>
            </div>
            
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button type="button" id="cancel-order-btn" class="btn btn-outline">বন্ধ করুন</button>
                <button type="button" id="update-order-btn" class="btn btn-primary">
                    <i class="fas fa-sync mr-2"></i>
                    স্ট্যাটাস আপডেট
                </button>
            </div>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- মডাল - কুপন -->
<!-- ============================================ -->
<div id="coupon-modal" class="modal">
    <div class="modal-content max-w-2xl">
        <div class="p-6 border-b border-gray-200">
            <h3 class="text-xl font-bold" id="coupon-modal-title">নতুন কুপন</h3>
        </div>
        <form id="coupon-form" class="p-6 space-y-6">
            <input type="hidden" id="coupon-id">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">কুপন কোড *</label>
                    <input type="text" id="coupon-code" required class="form-input" placeholder="SUMMER2024">
                </div>
                <div class="form-group">
                    <label class="form-label">বিবরণ</label>
                    <input type="text" id="coupon-description" class="form-input" placeholder="গ্রীষ্মকালীন বিশেষ অফার">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">ছাড়ের ধরণ</label>
                    <select id="coupon-discount-type" class="form-input">
                        <option value="percentage">শতাংশ (%)</option>
                        <option value="fixed">নির্দিষ্ট টাকা</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">ছাড়ের পরিমাণ *</label>
                    <input type="number" id="coupon-discount-value" required class="form-input" min="0" step="1">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">ন্যূনতম অর্ডার পরিমাণ</label>
                    <input type="number" id="coupon-min-order" class="form-input" min="0" placeholder="০ = কোন শর্ত নেই">
                </div>
                <div class="form-group">
                    <label class="form-label">সর্বোচ্চ ছাড়</label>
                    <input type="number" id="coupon-max-discount" class="form-input" min="0" placeholder="শতাংশ হলে">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">বৈধতা শুরু</label>
                    <input type="date" id="coupon-valid-from" class="form-input">
                </div>
                <div class="form-group">
                    <label class="form-label">বৈধতা শেষ</label>
                    <input type="date" id="coupon-valid-until" class="form-input">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    <label class="form-label">ব্যবহার সীমা</label>
                    <input type="number" id="coupon-usage-limit" class="form-input" min="0" placeholder="০ = সীমাহীন">
                </div>
                <div class="form-group">
                    <label class="form-label">স্ট্যাটাস</label>
                    <div class="flex items-center space-x-4">
                        <label class="switch">
                            <input type="checkbox" id="coupon-status" checked>
                            <span class="slider"></span>
                        </label>
                        <span id="coupon-status-text">সক্রিয়</span>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                <button type="button" id="cancel-coupon-btn" class="btn btn-outline">বাতিল</button>
                <button type="submit" class="btn btn-primary">সেভ করুন</button>
            </div>
        </form>
    </div>
</div>

<!-- ============================================ -->
<!-- নোটিফিকেশন কন্টেইনার -->
<!-- ============================================ -->
<div id="notification-container"></div>

<!-- ============================================ -->
<!-- জাভাস্ক্রিপ্ট - সম্পূর্ণ এডমিন প্যানেল লজিক -->
<!-- ============================================ -->
<script>
    // ============================================
    // কনফিগারেশন
    // ============================================
    const API_BASE_URL = 'https://ownerofroyal-trustbd.onrender.com';
    let currentUser = null;
    let currentPage = 'dashboard';
    let products = [];
    let categories = [];
    let orders = [];
    let reviews = [];
    let sliders = [];
    let settings = {};
    let coupons = [];
    let contacts = [];
    let selectedOrderId = null;
    let notificationInterval = null;
    let notifications = {
        unreadOrders: [],
        unreadReviews: [],
        unreadContacts: []
    };

    // ============================================
    // ডকুমেন্ট রেডি - ইনিশিয়ালাইজেশন
    // ============================================
    document.addEventListener('DOMContentLoaded', function() {
        // Check login status
        const savedUser = localStorage.getItem('admin_user');
        if (savedUser) {
            currentUser = JSON.parse(savedUser);
            showAdminPanel();
            loadDashboard();
            startNotificationPolling();
            requestNotificationPermission();
        }
        
        // Setup event listeners
        setupEventListeners();
        
        // Update time
        updateDateTime();
        setInterval(updateDateTime, 1000);
    });

    // ============================================
    // ইভেন্ট লিসেনার সেটআপ
    // ============================================
    function setupEventListeners() {
        // Login
        document.getElementById('login-form').addEventListener('submit', handleLogin);
        
        // Mobile menu
        document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileMenu);
        document.getElementById('sidebar-overlay').addEventListener('click', toggleMobileMenu);
        
        // Navigation
        document.querySelectorAll('.nav-item[data-page]').forEach(item => {
            item.addEventListener('click', function() {
                const page = this.getAttribute('data-page');
                switchPage(page);
            });
        });
        
        // Logout
        document.getElementById('logout-btn').addEventListener('click', handleLogout);
        
        // Notifications
        document.getElementById('notification-btn')?.addEventListener('click', toggleDesktopNotifications);
        document.getElementById('mobile-notification-btn')?.addEventListener('click', toggleMobileNotifications);
        
        // Product modal
        document.getElementById('add-color-btn')?.addEventListener('click', addColorField);
        document.getElementById('cancel-product-btn')?.addEventListener('click', hideProductModal);
        document.getElementById('product-form')?.addEventListener('submit', handleProductSubmit);
        
        // Price calculation
        document.getElementById('regular-price')?.addEventListener('input', calculateDiscount);
        document.getElementById('offer-price')?.addEventListener('input', calculateDiscount);
        
        // Status toggles
        setupToggleListeners();
        
        // Slider modal
        document.getElementById('cancel-slider-btn')?.addEventListener('click', hideSliderModal);
        document.getElementById('slider-form')?.addEventListener('submit', handleSliderSubmit);
        
        // Slider image upload
        setupSliderUploads();
        
        // Category modal
        document.getElementById('cancel-category-btn')?.addEventListener('click', hideCategoryModal);
        document.getElementById('category-form')?.addEventListener('submit', handleCategorySubmit);
        
        // Coupon modal
        document.getElementById('cancel-coupon-btn')?.addEventListener('click', hideCouponModal);
        document.getElementById('coupon-form')?.addEventListener('submit', handleCouponSubmit);
        
        // Order modal
        document.getElementById('cancel-order-btn')?.addEventListener('click', hideOrderModal);
        document.getElementById('update-order-btn')?.addEventListener('click', updateOrderStatus);
        
        // Close modals on click outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                hideAllModals();
            }
        });
        
        // Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideAllModals();
                hideAllNotifications();
            }
        });
    }
    
    // ============================================
    // টগল লিসেনার সেটআপ
    // ============================================
    function setupToggleListeners() {
        const productStatus = document.getElementById('product-status');
        if (productStatus) {
            productStatus.addEventListener('change', function() {
                document.getElementById('product-status-text').textContent = this.checked ? 'সক্রিয়' : 'নিষ্ক্রিয়';
            });
        }
        
        const productFeatured = document.getElementById('product-featured');
        if (productFeatured) {
            productFeatured.addEventListener('change', function() {
                document.getElementById('product-featured-text').textContent = this.checked ? 'হ্যাঁ' : 'না';
            });
        }
        
        const productNewArrival = document.getElementById('product-new-arrival');
        if (productNewArrival) {
            productNewArrival.addEventListener('change', function() {
                document.getElementById('product-new-arrival-text').textContent = this.checked ? 'হ্যাঁ' : 'না';
            });
        }
        
        const sliderStatus = document.getElementById('slider-status');
        if (sliderStatus) {
            sliderStatus.addEventListener('change', function() {
                document.getElementById('slider-status-text').textContent = this.checked ? 'সক্রিয়' : 'নিষ্ক্রিয়';
            });
        }
        
        const categoryStatus = document.getElementById('category-status');
        if (categoryStatus) {
            categoryStatus.addEventListener('change', function() {
                document.getElementById('category-status-text').textContent = this.checked ? 'সক্রিয়' : 'নিষ্ক্রিয়';
            });
        }
        
        const couponStatus = document.getElementById('coupon-status');
        if (couponStatus) {
            couponStatus.addEventListener('change', function() {
                document.getElementById('coupon-status-text').textContent = this.checked ? 'সক্রিয়' : 'নিষ্ক্রিয়';
            });
        }
    }
    
    // ============================================
    // স্লাইডার আপলোড সেটআপ
    // ============================================
    function setupSliderUploads() {
        // Main image upload
        const sliderImageUpload = document.getElementById('slider-image-upload');
        if (sliderImageUpload) {
            sliderImageUpload.addEventListener('click', () => {
                document.getElementById('slider-image-file').click();
            });
            
            document.getElementById('slider-image-file').addEventListener('change', function(e) {
                handleImageUpload(e, 'slider-image-base64', 'slider-upload-preview', sliderImageUpload);
            });
        }
        
        // Mobile image upload
        const sliderMobileUpload = document.getElementById('slider-mobile-upload');
        if (sliderMobileUpload) {
            sliderMobileUpload.addEventListener('click', () => {
                document.getElementById('slider-mobile-file').click();
            });
            
            document.getElementById('slider-mobile-file').addEventListener('change', function(e) {
                handleImageUpload(e, 'slider-mobile-base64', 'slider-mobile-preview', sliderMobileUpload);
            });
        }
        
        // URL preview
        const sliderUrlInput = document.getElementById('slider-image-url');
        if (sliderUrlInput) {
            sliderUrlInput.addEventListener('input', function() {
                const preview = document.getElementById('slider-url-preview');
                if (this.value) {
                    preview.src = this.value;
                    preview.classList.add('show');
                } else {
                    preview.classList.remove('show');
                }
            });
        }
        
        // Tabs
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                const parent = this.closest('.tabs').parentElement;
                
                parent.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                parent.querySelectorAll('.tab-btn').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                this.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
    }
    
    // ============================================
    // ইমেজ আপলোড হ্যান্ডলার
    // ============================================
    function handleImageUpload(e, base64InputId, previewId, uploadArea) {
        const file = e.target.files[0];
        if (!file) return;
        
        if (!file.type.startsWith('image/')) {
            showNotification('শুধুমাত্র ইমেজ ফাইল নির্বাচন করুন', 'error');
            return;
        }
        
        if (file.size > 5 * 1024 * 1024) {
            showNotification('ফাইল সাইজ 5MB এর কম হতে হবে', 'error');
            return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const preview = document.getElementById(previewId);
            preview.src = e.target.result;
            preview.classList.add('show');
            uploadArea.classList.add('has-image');
            document.getElementById(base64InputId).value = e.target.result;
        };
        reader.readAsDataURL(file);
    }
    
    // ============================================
    // কালার ফিল্ড যোগ করুন (শুধু বাংলা নাম)
    // ============================================
    function addColorField() {
        const container = document.getElementById('colors-container');
        const index = container.children.length;
        
        const colorField = document.createElement('div');
        colorField.className = 'border border-gray-200 rounded-lg p-5 bg-gray-50';
        colorField.innerHTML = `
            <div class="flex justify-between items-center mb-4">
                <span class="font-bold text-gray-700 flex items-center">
                    <i class="fas fa-palette text-red-600 mr-2"></i>
                    রং #${index + 1}
                </span>
                ${index > 0 ? `
                <button type="button" onclick="this.closest('.border').remove()" 
                        class="text-red-600 hover:text-red-800 p-2">
                    <i class="fas fa-trash"></i>
                </button>
                ` : ''}
            </div>
            
            <div class="form-group">
                <label class="form-label text-sm">রং এর নাম *</label>
                <input type="text" name="color-name" required class="form-input text-sm" placeholder="লাল ও সোনালী">
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="form-group">
                    <label class="form-label text-sm">রং কোড *</label>
                    <input type="text" name="color-code" required class="form-input text-sm" placeholder="#dc2626" value="#dc2626">
                </div>
                <div class="form-group">
                    <label class="form-label text-sm">ইমেজ URL</label>
                    <input type="text" name="color-image-url" class="form-input text-sm" placeholder="https://example.com/image.jpg">
                </div>
            </div>
            
            <div class="form-group">
                <div class="flex items-center justify-between mb-2">
                    <label class="form-label text-sm">অথবা ইমেজ আপলোড করুন</label>
                    <span class="text-xs text-gray-500">PNG, JPG, WEBP (Max 2MB)</span>
                </div>
                <div class="color-image-upload border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-red-500 transition">
                    <i class="fas fa-cloud-upload-alt text-2xl text-gray-400 mb-2"></i>
                    <p class="text-sm font-medium">ক্লিক করে ছবি নির্বাচন করুন</p>
                    <input type="file" name="color-image-file" accept="image/*" class="hidden">
                    <input type="hidden" name="color-image-base64">
                </div>
                <img name="color-upload-preview" class="color-image-preview hidden">
            </div>
        `;
        
        container.appendChild(colorField);
        
        // Setup color image upload
        const uploadDiv = colorField.querySelector('.color-image-upload');
        const fileInput = colorField.querySelector('[name="color-image-file"]');
        const preview = colorField.querySelector('[name="color-upload-preview"]');
        const base64Input = colorField.querySelector('[name="color-image-base64"]');
        
        uploadDiv.addEventListener('click', () => fileInput.click());
        
        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('শুধুমাত্র ইমেজ ফাইল নির্বাচন করুন', 'error');
                return;
            }
            
            if (file.size > 2 * 1024 * 1024) {
                showNotification('ফাইল সাইজ 2MB এর কম হতে হবে', 'error');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                preview.classList.remove('hidden');
                uploadDiv.classList.add('has-image');
                base64Input.value = e.target.result;
            };
            reader.readAsDataURL(file);
        });
        
        // URL preview
        const urlInput = colorField.querySelector('[name="color-image-url"]');
        urlInput.addEventListener('input', function() {
            if (this.value) {
                preview.src = this.value;
                preview.classList.remove('hidden');
            } else {
                preview.classList.add('hidden');
            }
        });
    }
    
    // ============================================
    // ডিসকাউন্ট ক্যালকুলেট
    // ============================================
    function calculateDiscount() {
        const regularPrice = parseFloat(document.getElementById('regular-price').value) || 0;
        const offerPrice = parseFloat(document.getElementById('offer-price').value) || 0;
        
        if (regularPrice > 0 && offerPrice > 0 && regularPrice >= offerPrice) {
            const discount = ((regularPrice - offerPrice) / regularPrice) * 100;
            document.getElementById('offer-percentage').value = Math.round(discount);
        } else {
            document.getElementById('offer-percentage').value = 0;
        }
    }
    
    // ============================================
    // লগইন হ্যান্ডলার
    // ============================================
    async function handleLogin(e) {
        e.preventDefault();
        
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const loginBtn = document.getElementById('login-btn');
        
        loginBtn.innerHTML = '<div class="spinner mr-2"></div> লগইন হচ্ছে...';
        loginBtn.disabled = true;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/login`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            
            if (response.ok) {
                const data = await response.json();
                currentUser = { username: data.username, name: data.name };
                localStorage.setItem('admin_user', JSON.stringify(currentUser));
                showAdminPanel();
                loadDashboard();
                showNotification('লগইন সফল!', 'success');
                startNotificationPolling();
                requestNotificationPermission();
            } else {
                throw new Error('Invalid credentials');
            }
        } catch (error) {
            document.getElementById('login-error').classList.remove('hidden');
            document.getElementById('login-error-text').textContent = error.message;
        } finally {
            loginBtn.innerHTML = '<i class="fas fa-sign-in-alt mr-2"></i> লগইন করুন';
            loginBtn.disabled = false;
        }
    }
    
    // ============================================
    // লগআউট হ্যান্ডলার
    // ============================================
    function handleLogout() {
        if (confirm('আপনি কি নিশ্চিত যে লগআউট করতে চান?')) {
            localStorage.removeItem('admin_user');
            currentUser = null;
            document.getElementById('admin-panel').classList.add('hidden');
            document.getElementById('login-page').classList.remove('hidden');
            
            if (notificationInterval) {
                clearInterval(notificationInterval);
                notificationInterval = null;
            }
            
            showNotification('লগআউট করা হয়েছে', 'info');
        }
    }
    
    // ============================================
    // এডমিন প্যানেল দেখান
    // ============================================
    function showAdminPanel() {
        document.getElementById('login-page').classList.add('hidden');
        document.getElementById('admin-panel').classList.remove('hidden');
        
        const loggedInUser = document.getElementById('logged-in-user');
        if (loggedInUser) {
            loggedInUser.textContent = currentUser?.name || currentUser?.username || 'Admin';
        }
    }
    
    // ============================================
    // মোবাইল মেনু টগল
    // ============================================
    function toggleMobileMenu() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('sidebar-overlay');
        
        sidebar.classList.toggle('mobile-open');
        overlay.classList.toggle('hidden');
        
        if (window.innerWidth < 768) {
            document.body.style.overflow = sidebar.classList.contains('mobile-open') ? 'hidden' : '';
        }
    }
    
    // ============================================
    // পেজ সুইচ
    // ============================================
    function switchPage(page) {
        currentPage = page;
        
        // Update active nav
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('data-page') === page) {
                item.classList.add('active');
            }
        });
        
        // Update page title
        const titles = {
            'dashboard': 'ড্যাশবোর্ড',
            'products': 'পণ্য ব্যবস্থাপনা',
            'categories': 'ক্যাটাগরি',
            'orders': 'অর্ডার ব্যবস্থাপনা',
            'reviews': 'রিভিউ ব্যবস্থাপনা',
            'sliders': 'স্লাইডার ব্যবস্থাপনা',
            'contacts': 'কন্টাক্ট মেসেজ',
            'coupons': 'কুপন ব্যবস্থাপনা',
            'settings': 'ওয়েবসাইট সেটিংস'
        };
        
        const subtitles = {
            'dashboard': 'সর্বশেষ আপডেট এবং পরিসংখ্যান',
            'products': 'পণ্য তালিকা পরিচালনা করুন',
            'categories': 'পণ্যের ক্যাটাগরি পরিচালনা',
            'orders': 'গ্রাহকদের অর্ডার তালিকা',
            'reviews': 'গ্রাহকদের রিভিউ এবং রেটিং',
            'sliders': 'হোমপেজ স্লাইডার কন্টেন্ট',
            'contacts': 'গ্রাহকদের বার্তা',
            'coupons': 'ডিসকাউন্ট কুপন পরিচালনা',
            'settings': 'ওয়েবসাইট কনফিগারেশন'
        };
        
        document.getElementById('page-title').textContent = titles[page];
        document.getElementById('page-subtitle').textContent = subtitles[page];
        
        // Load page content
        loadPageContent(page);
        
        // Close mobile menu
        if (window.innerWidth < 768) {
            toggleMobileMenu();
        }
    }
    
    // ============================================
    // পেজ কন্টেন্ট লোড
    // ============================================
    async function loadPageContent(page) {
        const contentArea = document.getElementById('content-area');
        contentArea.innerHTML = '<div class="flex justify-center items-center h-64"><div class="spinner mr-3"></div><p class="text-gray-600">লোড হচ্ছে...</p></div>';
        
        try {
            switch(page) {
                case 'dashboard':
                    await loadDashboard();
                    break;
                case 'products':
                    await loadProductsPage();
                    break;
                case 'categories':
                    await loadCategoriesPage();
                    break;
                case 'orders':
                    await loadOrdersPage();
                    break;
                case 'reviews':
                    await loadReviewsPage();
                    break;
                case 'sliders':
                    await loadSlidersPage();
                    break;
                case 'contacts':
                    await loadContactsPage();
                    break;
                case 'coupons':
                    await loadCouponsPage();
                    break;
                case 'settings':
                    await loadSettingsPage();
                    break;
            }
        } catch (error) {
            console.error('Error loading page:', error);
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl p-8 text-center">
                    <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                    <p class="text-gray-700 mb-4">পৃষ্ঠা লোড করতে সমস্যা হয়েছে</p>
                    <button onclick="loadPageContent('${page}')" class="btn btn-primary">
                        <i class="fas fa-sync mr-2"></i>
                        আবার চেষ্টা করুন
                    </button>
                </div>
            `;
        }
    }
    
    // ============================================
    // চার্ট ইনিশিয়ালাইজেশন
    // ============================================
    function initOrderStatusChart(data) {
        const ctx = document.getElementById('orderStatusChart')?.getContext('2d');
        if (!ctx) return;
        
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['পেন্ডিং', 'কনফার্মড', 'প্রসেসিং', 'শিপড', 'ডেলিভার্ড', 'ক্যান্সেলড'],
                datasets: [{
                    data: [
                        data.pendingOrders || 0,
                        data.confirmedOrders || 0,
                        data.processingOrders || 0,
                        data.shippedOrders || 0,
                        data.deliveredOrders || 0,
                        data.cancelledOrders || 0
                    ],
                    backgroundColor: [
                        '#f59e0b', '#3b82f6', '#8b5cf6', '#06b6d4', '#10b981', '#ef4444'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }
    
    function initCategoryChart(data) {
        const ctx = document.getElementById('categoryChart')?.getContext('2d');
        if (!ctx) return;
        
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['পণ্য', 'ক্যাটাগরি', 'স্লাইডার', 'রিভিউ'],
                datasets: [{
                    data: [
                        data.totalProducts || 0,
                        data.totalCategories || 0,
                        data.totalSliders || 0,
                        data.totalReviews || 0
                    ],
                    backgroundColor: [
                        '#dc2626', '#3b82f6', '#8b5cf6', '#f59e0b'
                    ],
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
    
   // ============================================
    // পণ্য পেজ - মোবাইল কার্ড সহ (ইংরেজি নাম সরানো)
    // ============================================
    async function loadProductsPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/products`);
            const productsData = await response.json();
            products = productsData;
            
            const categoriesResponse = await fetch(`${API_BASE_URL}/api/admin/categories`);
            categories = await categoriesResponse.json();
            
            const contentArea = document.getElementById('content-area');
            
            // মোবাইল কার্ড জেনারেট করুন
            const mobileProductCards = products.length > 0 ? 
                products.map(product => generateMobileProductCard(product)).join('') : 
                '<div class="text-center p-8 text-gray-500">কোনো পণ্য নেই</div>';
            
            contentArea.innerHTML = `
                <div id="products-page" class="bg-white rounded-xl border border-gray-200">
                    <!-- Header -->
                    <div class="p-6 border-b border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-tshirt mr-3 text-blue-600"></i>
                                পণ্য তালিকা
                            </h3>
                            <p class="text-gray-600 text-sm mt-1">মোট ${products.length} টি পণ্য</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="loadProductsPage()" class="btn btn-outline">
                                <i class="fas fa-sync mr-2"></i> রিফ্রেশ
                            </button>
                            <button onclick="showAddProductModal()" class="btn btn-primary">
                                <i class="fas fa-plus mr-2"></i> নতুন পণ্য
                            </button>
                        </div>
                    </div>
                    
                    <!-- Desktop Table View (শুধু বাংলা নাম) -->
                    <div class="p-6 desktop-only">
                        <div class="overflow-x-auto">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ছবি</th>
                                        <th>পণ্য</th>
                                        <th>ক্যাটাগরি</th>
                                        <th>দাম</th>
                                        <th>ছাড়</th>
                                        <th>স্ট্যাটাস</th>
                                        <th>ক্রিয়া</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${products.length > 0 ? 
                                        products.map(product => {
                                            const category = categories.find(c => c._id === product.categoryId) || { banglaName: product.categoryBangla || product.category };
                                            const image = product.colors?.[0]?.image || 'https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=200';
                                            const productName = product.banglaName || product.name;
                                            const categoryName = category.banglaName || product.categoryBangla || product.category;
                                            return `
                                                <tr>
                                                    <td><img src="${image}" class="w-16 h-16 object-cover rounded-lg"></td>
                                                    <td>
                                                        <div class="font-medium">${productName}</div>
                                                    </td>
                                                    <td>${categoryName}</td>
                                                    <td>
                                                        <span class="line-through text-gray-400 text-xs">${product.regularPrice}৳</span>
                                                        <span class="text-red-600 font-bold block">${product.offerPrice}৳</span>
                                                    </td>
                                                    <td><span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-bold">${product.offerPercentage}%</span></td>
                                                    <td>
                                                        <span class="status-badge ${product.isActive ? 'badge-success' : 'badge-danger'}">${product.isActive ? 'সক্রিয়' : 'নিষ্ক্রিয়'}</span>
                                                        ${product.isFeatured ? '<span class="ml-1 text-yellow-500"><i class="fas fa-star"></i></span>' : ''}
                                                    </td>
                                                    <td>
                                                        <div class="flex space-x-2">
                                                            <button onclick="editProduct('${product._id}')" class="text-blue-600 hover:text-blue-800 p-2" title="এডিট"><i class="fas fa-edit"></i></button>
                                                            <button onclick="deleteProduct('${product._id}')" class="text-red-600 hover:text-red-800 p-2" title="ডিলিট"><i class="fas fa-trash"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            `;
                                        }).join('') : 
                                        `<tr><td colspan="7" class="p-8 text-center text-gray-500">কোনো পণ্য নেই</td></tr>`
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Mobile Card View (শুধু বাংলা) -->
                    <div class="mobile-product-grid p-4">
                        ${mobileProductCards}
                    </div>
                </div>
            `;
            
            window.products = products;
            window.categories = categories;
            
        } catch (error) {
            console.error('Products page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // মোবাইল প্রোডাক্ট কার্ড জেনারেটর (শুধু বাংলা)
    // ============================================
    function generateMobileProductCard(product) {
        const category = categories.find(c => c._id === product.categoryId) || { banglaName: product.categoryBangla || product.category };
        const image = product.colors?.[0]?.image || 'https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=200';
        const productName = product.banglaName || product.name;
        const categoryName = category.banglaName || product.categoryBangla || product.category;
        
        return `
            <div class="product-card-mobile">
                <div class="product-card-header">
                    <img src="${image}" alt="${productName}" class="product-image">
                    <div class="product-info">
                        <div class="product-name-bn">${productName}</div>
                        <span class="product-category">${categoryName}</span>
                        <div class="product-price-section">
                            <span class="product-offer-price">${product.offerPrice}৳</span>
                            <span class="product-regular-price">${product.regularPrice}৳</span>
                            <span class="product-discount">-${product.offerPercentage}%</span>
                        </div>
                    </div>
                </div>
                
                <div class="product-card-body">
                    ${product.colors && product.colors.length > 0 ? `
                        <div class="product-colors">
                            <div class="color-title"><i class="fas fa-palette mr-1"></i> রংসমূহ</div>
                            <div class="color-list">
                                ${product.colors.slice(0, 3).map(color => `
                                    <div class="color-item">
                                        <span class="color-dot" style="background-color: ${color.code}"></span>
                                        <span class="color-name">${color.banglaName || color.name}</span>
                                    </div>
                                `).join('')}
                                ${product.colors.length > 3 ? `<span class="text-xs text-gray-500 ml-1">+${product.colors.length - 3}</span>` : ''}
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="product-size">
                        <div class="size-title"><i class="fas fa-ruler mr-1"></i> সাইজ</div>
                        <div class="size-chips">
                            ${product.size.split(',').map(s => `<span class="size-chip">${s.trim()}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div class="product-status">
                        <span class="status-indicator ${product.isActive ? 'status-active' : 'status-inactive'}"></span>
                        <span class="text-sm font-medium">${product.isActive ? 'সক্রিয়' : 'নিষ্ক্রিয়'}</span>
                        ${product.isFeatured ? '<span class="ml-2 text-yellow-500"><i class="fas fa-star"></i> ফিচার্ড</span>' : ''}
                        ${product.isNewArrival ? '<span class="ml-2 text-green-500"><i class="fas fa-clock"></i> নতুন</span>' : ''}
                    </div>
                    
                    <div class="product-actions">
                        <button onclick="editProduct('${product._id}')" class="product-edit-btn">
                            <i class="fas fa-edit"></i> সম্পাদনা
                        </button>
                        <button onclick="deleteProduct('${product._id}')" class="product-delete-btn">
                            <i class="fas fa-trash"></i> ডিলিট
                        </button>
                    </div>
                </div>
            </div>
        `;
    }
    
    // ============================================
    // ক্যাটাগরি পেজ (শুধু বাংলা)
    // ============================================
    async function loadCategoriesPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/categories`);
            categories = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-tags mr-3 text-purple-600"></i>
                                ক্যাটাগরি ব্যবস্থাপনা
                            </h3>
                            <p class="text-gray-600 text-sm mt-1">মোট ${categories.length} টি ক্যাটাগরি</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="loadCategoriesPage()" class="btn btn-outline">
                                <i class="fas fa-sync mr-2"></i>
                                রিফ্রেশ
                            </button>
                            <button onclick="showAddCategoryModal()" class="btn btn-primary">
                                <i class="fas fa-plus mr-2"></i>
                                নতুন ক্যাটাগরি
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${categories.length > 0 ? 
                                categories.map(cat => `
                                    <div class="border border-gray-200 rounded-lg p-5 hover:shadow-md transition">
                                        <div class="flex items-center justify-between mb-4">
                                            <div class="flex items-center">
                                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 text-xl mr-3">
                                                    <i class="fas ${cat.icon || 'fa-tag'}"></i>
                                                </div>
                                                <div>
                                                    <h4 class="font-bold">${cat.banglaName}</h4>
                                                </div>
                                            </div>
                                            <span class="status-badge ${cat.isActive ? 'badge-success' : 'badge-danger'} text-xs">
                                                ${cat.isActive ? 'সক্রিয়' : 'নিষ্ক্রিয়'}
                                            </span>
                                        </div>
                                        <p class="text-sm text-gray-600 mb-4">${cat.description || ''}</p>
                                        <div class="flex justify-between items-center">
                                            <span class="text-xs text-gray-500">অর্ডার: ${cat.order || 0}</span>
                                            <div class="flex space-x-2">
                                                <button onclick="editCategory('${cat._id}')" 
                                                        class="text-blue-600 hover:text-blue-800 p-1">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button onclick="deleteCategory('${cat._id}')" 
                                                        class="text-red-600 hover:text-red-800 p-1">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                `).join('') : 
                                `<div class="col-span-full text-center p-12 text-gray-500">কোনো ক্যাটাগরি নেই</div>`
                            }
                        </div>
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Categories page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // অর্ডার পেজ - মোবাইল কার্ড সহ (কোনো পরিবর্তন প্রয়োজন নেই)
    // ============================================
    async function loadOrdersPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/orders`);
            const data = await response.json();
            orders = data.orders || [];
            
            const contentArea = document.getElementById('content-area');
            
            // মোবাইল অর্ডার কার্ড জেনারেট করুন
            const mobileOrderCards = orders.length > 0 ? 
                orders.map(order => generateMobileOrderCard(order)).join('') : 
                '<div class="text-center p-8 text-gray-500">কোনো অর্ডার নেই</div>';
            
            contentArea.innerHTML = `
                <div id="orders-page" class="bg-white rounded-xl border border-gray-200">
                    <!-- Header -->
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <i class="fas fa-shopping-cart mr-3 text-green-600"></i>
                                    অর্ডার ব্যবস্থাপনা
                                </h3>
                                <p class="text-gray-600 text-sm mt-1">মোট ${orders.length} টি অর্ডার</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Filter Section (মোবাইলেও দেখাবে) -->
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col md:flex-row gap-4">
                            <select id="order-status-filter" class="form-input w-full md:w-48" onchange="filterOrders()">
                                <option value="">সব অর্ডার</option>
                                <option value="pending">পেন্ডিং</option>
                                <option value="confirmed">কনফার্মড</option>
                                <option value="processing">প্রসেসিং</option>
                                <option value="shipped">শিপড</option>
                                <option value="delivered">ডেলিভার্ড</option>
                                <option value="cancelled">ক্যান্সেলড</option>
                            </select>
                            <input type="text" id="order-search" class="form-input w-full md:w-64" placeholder="অর্ডার আইডি, ফোন, নাম..." onkeyup="filterOrders()">
                            <button onclick="loadOrdersPage()" class="btn btn-outline w-full md:w-auto">
                                <i class="fas fa-sync mr-2"></i> রিফ্রেশ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Desktop Table View -->
                    <div class="p-6 desktop-only">
                        <div class="overflow-x-auto">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>অর্ডার আইডি</th>
                                        <th>গ্রাহক</th>
                                        <th>পণ্য</th>
                                        <th>পরিমাণ</th>
                                        <th>মোট</th>
                                        <th>স্ট্যাটাস</th>
                                        <th>তারিখ</th>
                                        <th>ক্রিয়া</th>
                                    </tr>
                                </thead>
                                <tbody id="orders-table-body">
                                    ${orders.map(order => `
                                        <tr>
                                            <td class="font-mono text-sm">${order.orderId}</td>
                                            <td>
                                                <div class="font-medium">${order.customerName}</div>
                                                <div class="text-xs text-gray-500">${order.phone}</div>
                                            </td>
                                            <td>${order.productName}</td>
                                            <td>${order.quantity} পিস</td>
                                            <td>${order.grandTotal || order.totalPrice}৳</td>
                                            <td><span class="status-badge status-${order.status}">${getStatusText(order.status)}</span></td>
                                            <td>${formatDate(order.createdAt)}</td>
                                            <td>
                                                <button onclick="viewOrder('${order._id}')" class="text-blue-600 hover:text-blue-800 p-2">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Mobile Card View -->
                    <div class="mobile-orders-grid p-4" id="mobile-orders-container">
                        ${mobileOrderCards}
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Orders page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // মোবাইল অর্ডার কার্ড জেনারেটর
    // ============================================
    function generateMobileOrderCard(order) {
        const statusColors = {
            'pending': 'status-pending',
            'confirmed': 'status-confirmed',
            'processing': 'status-processing',
            'shipped': 'status-shipped',
            'delivered': 'status-delivered',
            'cancelled': 'status-cancelled'
        };
        
        return `
            <div class="mobile-order-card">
                <div class="mobile-order-header">
                    <span class="mobile-order-id">#${order.orderId}</span>
                    <span class="mobile-order-status ${statusColors[order.status] || 'status-pending'}">
                        ${getStatusText(order.status)}
                    </span>
                </div>
                
                <div class="mobile-order-body">
                    <div class="mobile-order-detail">
                        <div class="mobile-order-icon"><i class="fas fa-user"></i></div>
                        <div class="mobile-order-info">
                            <div class="mobile-order-label">গ্রাহকের নাম</div>
                            <div class="mobile-order-value">${order.customerName}</div>
                            <div class="mobile-order-sub">${order.phone}</div>
                        </div>
                    </div>
                    
                    <div class="mobile-order-detail">
                        <div class="mobile-order-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <div class="mobile-order-info">
                            <div class="mobile-order-label">ঠিকানা</div>
                            <div class="mobile-order-sub">${order.address || 'N/A'}</div>
                        </div>
                    </div>
                    
                    <div class="mobile-order-detail">
                        <div class="mobile-order-icon"><i class="fas fa-tshirt"></i></div>
                        <div class="mobile-order-info">
                            <div class="mobile-order-label">পণ্য</div>
                            <div class="mobile-order-value">${order.productName}</div>
                            <div class="mobile-order-sub">
                                ${order.color} | ${order.size} | ${order.quantity} পিস
                            </div>
                        </div>
                    </div>
                    
                    <div class="mobile-order-price">
                        ${order.grandTotal || order.totalPrice}৳
                    </div>
                </div>
                
                <div class="mobile-order-footer">
                    <button onclick="viewOrder('${order._id}')" class="mobile-view-btn">
                        <i class="fas fa-eye"></i> বিস্তারিত দেখুন
                    </button>
                </div>
            </div>
        `;
    }
    
    // ============================================
    // অর্ডার ফিল্টার - মোবাইল কার্ড আপডেট সহ
    // ============================================
    function filterOrders() {
        const statusFilter = document.getElementById('order-status-filter').value;
        const searchText = document.getElementById('order-search').value.toLowerCase();
        
        let filtered = orders;
        
        if (statusFilter) {
            filtered = filtered.filter(order => order.status === statusFilter);
        }
        
        if (searchText) {
            filtered = filtered.filter(order => 
                (order.orderId && order.orderId.toLowerCase().includes(searchText)) ||
                (order.customerName && order.customerName.toLowerCase().includes(searchText)) ||
                (order.phone && order.phone.includes(searchText))
            );
        }
        
        // Desktop Table Update
        const tableBody = document.getElementById('orders-table-body');
        if (tableBody) {
            tableBody.innerHTML = filtered.length > 0 ? 
                filtered.map(order => `
                    <tr>
                        <td class="font-mono text-sm">${order.orderId}</td>
                        <td>
                            <div class="font-medium">${order.customerName}</div>
                            <div class="text-xs text-gray-500">${order.phone}</div>
                        </td>
                        <td>${order.productName}</td>
                        <td>${order.quantity} পিস</td>
                        <td>${order.grandTotal || order.totalPrice}৳</td>
                        <td><span class="status-badge status-${order.status}">${getStatusText(order.status)}</span></td>
                        <td>${formatDate(order.createdAt)}</td>
                        <td>
                            <button onclick="viewOrder('${order._id}')" class="text-blue-600 hover:text-blue-800 p-2">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `).join('') : 
                '<tr><td colspan="8" class="p-8 text-center text-gray-500">কোনো অর্ডার পাওয়া যায়নি</td></tr>';
        }
        
        // Mobile Cards Update
        const mobileContainer = document.getElementById('mobile-orders-container');
        if (mobileContainer) {
            mobileContainer.innerHTML = filtered.length > 0 ? 
                filtered.map(order => generateMobileOrderCard(order)).join('') : 
                '<div class="text-center p-8 text-gray-500">কোনো অর্ডার পাওয়া যায়নি</div>';
        }
    }
    
    // ============================================
    // অর্ডার দেখা
    // ============================================
    async function viewOrder(orderId) {
        selectedOrderId = orderId;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/orders`);
            const data = await response.json();
            const order = data.orders.find(o => o._id === orderId);
            
            if (order) {
                document.getElementById('order-details').innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-5 rounded-lg">
                            <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                                <i class="fas fa-user mr-2 text-blue-600"></i>
                                গ্রাহক তথ্য
                            </h4>
                            <p class="mb-2"><span class="text-gray-600 text-sm">নাম:</span> <span class="font-medium">${order.customerName}</span></p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">ফোন:</span> <span class="font-medium">${order.phone}</span></p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">ইমেইল:</span> ${order.email || 'নেই'}</p>
                            <p><span class="text-gray-600 text-sm">ঠিকানা:</span> ${order.address}</p>
                        </div>
                        <div class="bg-gray-50 p-5 rounded-lg">
                            <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                                <i class="fas fa-shopping-cart mr-2 text-green-600"></i>
                                অর্ডার তথ্য
                            </h4>
                            <p class="mb-2"><span class="text-gray-600 text-sm">অর্ডার আইডি:</span> <span class="font-mono">${order.orderId}</span></p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">পণ্য:</span> ${order.productName}</p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">রং:</span> ${order.colorBangla || order.color}</p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">সাইজ:</span> ${order.size}</p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">পরিমাণ:</span> ${order.quantity} পিস</p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">ইউনিট দাম:</span> ${order.unitPrice || order.totalPrice/order.quantity}৳</p>
                            <p class="mb-2"><span class="text-gray-600 text-sm">ডেলিভারি চার্জ:</span> ${order.deliveryCharge || 0}৳</p>
                            <p class="text-lg font-bold text-red-600 mt-2">মোট: ${order.grandTotal || order.totalPrice}৳</p>
                        </div>
                    </div>
                    ${order.notes ? `
                        <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                            <p class="text-sm text-yellow-800"><span class="font-bold">গ্রাহকের নোট:</span> ${order.notes}</p>
                        </div>
                    ` : ''}
                    ${order.adminNotes ? `
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <p class="text-sm text-blue-800"><span class="font-bold">এডমিন নোট:</span> ${order.adminNotes}</p>
                        </div>
                    ` : ''}
                `;
                
                document.getElementById('order-status-select').value = order.status;
                document.getElementById('order-notes').value = order.notes || '';
                document.getElementById('order-admin-notes').value = order.adminNotes || '';
                
                document.getElementById('order-modal').classList.add('active');
            }
        } catch (error) {
            console.error('Error loading order:', error);
            showNotification('অর্ডার লোড করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // অর্ডার স্ট্যাটাস আপডেট
    // ============================================
    async function updateOrderStatus() {
        const status = document.getElementById('order-status-select').value;
        const notes = document.getElementById('order-notes').value;
        const adminNotes = document.getElementById('order-admin-notes').value;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/orders/${selectedOrderId}/status`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ status, notes, adminNotes })
            });
            
            if (response.ok) {
                hideOrderModal();
                loadOrdersPage();
                showNotification('অর্ডার স্ট্যাটাস আপডেট হয়েছে', 'success');
            } else {
                throw new Error('Failed to update');
            }
        } catch (error) {
            console.error('Error updating order:', error);
            showNotification('স্ট্যাটাস আপডেট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // অর্ডার মডাল বন্ধ
    // ============================================
    function hideOrderModal() {
        document.getElementById('order-modal').classList.remove('active');
        selectedOrderId = null;
    }
    
    // ============================================
    // রিভিউ পেজ
    // ============================================
    async function loadReviewsPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/reviews`);
            reviews = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <i class="fas fa-star mr-3 text-yellow-500"></i>
                                    রিভিউ ব্যবস্থাপনা
                                </h3>
                                <p class="text-gray-600 text-sm mt-1">মোট ${reviews.length} টি রিভিউ</p>
                            </div>
                            <div class="flex space-x-3">
                                <select id="review-filter" class="form-input w-48" onchange="filterReviews()">
                                    <option value="">সব রিভিউ</option>
                                    <option value="approved">এপ্রুভড</option>
                                    <option value="pending">পেন্ডিং</option>
                                    <option value="featured">ফিচার্ড</option>
                                </select>
                                <button onclick="loadReviewsPage()" class="btn btn-outline">
                                    <i class="fas fa-sync mr-2"></i>
                                    রিফ্রেশ
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6" id="reviews-list">
                        ${reviews.length > 0 ? 
                            reviews.map(review => `
                                <div class="border border-gray-200 rounded-lg p-5 mb-4 hover:shadow-md transition">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="flex items-start">
                                            <div class="w-12 h-12 bg-gradient-to-br from-red-600 to-red-400 rounded-full flex items-center justify-center text-white text-xl font-bold mr-4">
                                                ${review.name.charAt(0)}
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg">${review.name}</h4>
                                                <p class="text-gray-600 text-sm">
                                                    <i class="fas fa-map-marker-alt mr-1"></i>${review.location}
                                                    • <i class="far fa-clock mr-1"></i>${formatDate(review.createdAt)}
                                                </p>
                                                ${review.productName ? `
                                                    <p class="text-xs text-gray-500 mt-1">
                                                        <i class="fas fa-tag mr-1"></i>পণ্য: ${review.productName}
                                                    </p>
                                                ` : ''}
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <div class="text-yellow-500">
                                                ${getStarRatingHTML(review.rating)}
                                            </div>
                                            <span class="status-badge ${review.isApproved ? 'badge-success' : 'badge-warning'} text-xs">
                                                ${review.isApproved ? 'এপ্রুভড' : 'পেন্ডিং'}
                                            </span>
                                            ${review.isFeatured ? '<span class="text-yellow-500"><i class="fas fa-crown"></i></span>' : ''}
                                        </div>
                                    </div>
                                    <p class="text-gray-700 mb-4 bg-gray-50 p-4 rounded-lg">${review.text}</p>
                                    
                                    ${review.reply ? `
                                        <div class="ml-8 mt-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                            <p class="text-sm font-bold text-blue-800 mb-1">এডমিনের জবাব:</p>
                                            <p class="text-sm text-blue-700">${review.reply}</p>
                                            <p class="text-xs text-blue-500 mt-1">${formatDate(review.replyDate)}</p>
                                        </div>
                                    ` : ''}
                                    
                                    <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-200">
                                        <div class="flex space-x-3">
                                            ${!review.isApproved ? `
                                                <button onclick="approveReview('${review._id}')" 
                                                        class="btn btn-outline text-sm">
                                                    <i class="fas fa-check mr-1"></i> এপ্রুভ
                                                </button>
                                            ` : ''}
                                            <button onclick="toggleFeatureReview('${review._id}', ${!review.isFeatured})" 
                                                    class="btn btn-outline text-sm">
                                                <i class="fas ${review.isFeatured ? 'fa-star' : 'fa-star-o'} mr-1"></i> 
                                                ${review.isFeatured ? 'ফিচার্ড সরান' : 'ফিচার্ড করুন'}
                                            </button>
                                            <button onclick="showReplyForm('${review._id}')" 
                                                    class="btn btn-outline text-sm">
                                                <i class="fas fa-reply mr-1"></i> জবাব দিন
                                            </button>
                                        </div>
                                        <button onclick="deleteReview('${review._id}')" 
                                                class="text-red-600 hover:text-red-800 p-2">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Reply Form (Hidden) -->
                                    <div id="reply-form-${review._id}" class="mt-4 hidden">
                                        <textarea id="reply-text-${review._id}" rows="2" class="form-textarea" placeholder="রিভিউয়ের জবাব লিখুন..."></textarea>
                                        <div class="flex justify-end space-x-2 mt-2">
                                            <button onclick="hideReplyForm('${review._id}')" class="btn btn-outline text-sm">
                                                বাতিল
                                            </button>
                                            <button onclick="submitReply('${review._id}')" class="btn btn-primary text-sm">
                                                জবাব দিন
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `).join('') : 
                            `<div class="text-center p-12 text-gray-500">কোনো রিভিউ নেই</div>`
                        }
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Reviews page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // রিভিউ ফিল্টার
    // ============================================
    function filterReviews() {
        const filter = document.getElementById('review-filter').value;
        
        let filtered = reviews;
        
        if (filter === 'approved') {
            filtered = reviews.filter(r => r.isApproved);
        } else if (filter === 'pending') {
            filtered = reviews.filter(r => !r.isApproved);
        } else if (filter === 'featured') {
            filtered = reviews.filter(r => r.isFeatured);
        }
        
        const reviewsList = document.getElementById('reviews-list');
        if (reviewsList) {
            reviewsList.innerHTML = filtered.length > 0 ? 
                filtered.map(review => `
                    <div class="border border-gray-200 rounded-lg p-5 mb-4 hover:shadow-md transition">
                        <!-- Same structure as above -->
                        <div class="flex justify-between items-start mb-4">
                            <div class="flex items-start">
                                <div class="w-12 h-12 bg-gradient-to-br from-red-600 to-red-400 rounded-full flex items-center justify-center text-white text-xl font-bold mr-4">
                                    ${review.name.charAt(0)}
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg">${review.name}</h4>
                                    <p class="text-gray-600 text-sm">
                                        <i class="fas fa-map-marker-alt mr-1"></i>${review.location}
                                        • <i class="far fa-clock mr-1"></i>${formatDate(review.createdAt)}
                                    </p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="text-yellow-500">${getStarRatingHTML(review.rating)}</div>
                                <span class="status-badge ${review.isApproved ? 'badge-success' : 'badge-warning'} text-xs">
                                    ${review.isApproved ? 'এপ্রুভড' : 'পেন্ডিং'}
                                </span>
                            </div>
                        </div>
                        <p class="text-gray-700 mb-4 bg-gray-50 p-4 rounded-lg">${review.text}</p>
                        <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-200">
                            <div class="flex space-x-3">
                                ${!review.isApproved ? `
                                    <button onclick="approveReview('${review._id}')" class="btn btn-outline text-sm">
                                        <i class="fas fa-check mr-1"></i> এপ্রুভ
                                    </button>
                                ` : ''}
                                <button onclick="toggleFeatureReview('${review._id}', ${!review.isFeatured})" class="btn btn-outline text-sm">
                                    <i class="fas ${review.isFeatured ? 'fa-star' : 'fa-star-o'} mr-1"></i> 
                                    ${review.isFeatured ? 'ফিচার্ড সরান' : 'ফিচার্ড করুন'}
                                </button>
                            </div>
                            <button onclick="deleteReview('${review._id}')" class="text-red-600 hover:text-red-800 p-2">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('') : 
                '<div class="text-center p-12 text-gray-500">কোনো রিভিউ পাওয়া যায়নি</div>';
        }
    }
    
    // ============================================
    // রিভিউ এপ্রুভ
    // ============================================
    async function approveReview(reviewId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/reviews/${reviewId}/approve`, {
                method: 'PUT'
            });
            
            if (response.ok) {
                loadReviewsPage();
                showNotification('রিভিউ এপ্রুভ করা হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error approving review:', error);
            showNotification('রিভিউ এপ্রুভ করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // রিভিউ ফিচার টগল
    // ============================================
    async function toggleFeatureReview(reviewId, isFeatured) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/reviews/${reviewId}/feature`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ isFeatured })
            });
            
            if (response.ok) {
                loadReviewsPage();
                showNotification(isFeatured ? 'রিভিউ ফিচার্ড করা হয়েছে' : 'রিভিউ ফিচার্ড থেকে সরানো হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error toggling review feature:', error);
            showNotification('রিভিউ ফিচার করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // রিভিউ ডিলিট
    // ============================================
    async function deleteReview(reviewId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই রিভিউ ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/reviews/${reviewId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadReviewsPage();
                showNotification('রিভিউ ডিলিট করা হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error deleting review:', error);
            showNotification('রিভিউ ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // রিভিউ রিপ্লাই ফর্ম দেখান
    // ============================================
    function showReplyForm(reviewId) {
        document.getElementById(`reply-form-${reviewId}`).classList.remove('hidden');
    }
    
    function hideReplyForm(reviewId) {
        document.getElementById(`reply-form-${reviewId}`).classList.add('hidden');
    }
    
    // ============================================
    // রিভিউ রিপ্লাই সাবমিট
    // ============================================
    async function submitReply(reviewId) {
        const reply = document.getElementById(`reply-text-${reviewId}`).value.trim();
        
        if (!reply) {
            showNotification('জবাব লিখুন', 'error');
            return;
        }
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/reviews/${reviewId}/reply`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ reply })
            });
            
            if (response.ok) {
                loadReviewsPage();
                showNotification('জবাব দেওয়া হয়েছে', 'success');
            } else {
                throw new Error('Failed to submit reply');
            }
        } catch (error) {
            console.error('Error submitting reply:', error);
            showNotification('জবাব দিতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // স্লাইডার পেজ (শুধু বাংলা)
    // ============================================
    async function loadSlidersPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/sliders`);
            sliders = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-images mr-3 text-purple-600"></i>
                                স্লাইডার ব্যবস্থাপনা
                            </h3>
                            <p class="text-gray-600 text-sm mt-1">মোট ${sliders.length} টি স্লাইডার</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="loadSlidersPage()" class="btn btn-outline">
                                <i class="fas fa-sync mr-2"></i>
                                রিফ্রেশ
                            </button>
                            <button onclick="showAddSliderModal()" class="btn btn-primary">
                                <i class="fas fa-plus mr-2"></i>
                                নতুন স্লাইডার
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="grid grid-cols-1 gap-6">
                            ${sliders.length > 0 ? 
                                sliders.sort((a, b) => a.slideNumber - b.slideNumber).map(slider => `
                                    <div class="border border-gray-200 rounded-lg p-6 hover:shadow-lg transition">
                                        <div class="flex flex-col lg:flex-row gap-6">
                                            <!-- Image -->
                                            <div class="lg:w-1/3">
                                                <img src="${slider.imageUrl}" alt="Slider ${slider.slideNumber}" 
                                                     class="w-full h-48 object-cover rounded-lg border border-gray-200">
                                                ${slider.mobileImageUrl ? `
                                                    <p class="text-xs text-gray-500 mt-2">
                                                        <i class="fas fa-mobile-alt mr-1"></i>
                                                        মোবাইল ইমেজ আছে
                                                    </p>
                                                ` : ''}
                                            </div>
                                            
                                            <!-- Content -->
                                            <div class="lg:w-2/3">
                                                <div class="flex justify-between items-start mb-4">
                                                    <div>
                                                        <h4 class="text-xl font-bold text-gray-800">
                                                            স্লাইড #${slider.slideNumber}
                                                        </h4>
                                                        <p class="text-sm text-gray-600">
                                                            ${slider.banglaTitle || slider.title}
                                                        </p>
                                                    </div>
                                                    <div class="flex items-center space-x-3">
                                                        <span class="status-badge ${slider.isActive ? 'badge-success' : 'badge-danger'}">
                                                            ${slider.isActive ? 'সক্রিয়' : 'নিষ্ক্রিয়'}
                                                        </span>
                                                        <button onclick="editSlider('${slider._id}')" 
                                                                class="text-blue-600 hover:text-blue-800 p-2">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button onclick="deleteSlider('${slider._id}')" 
                                                                class="text-red-600 hover:text-red-800 p-2">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                                    <div>
                                                        <p class="text-sm text-gray-500">শিরোনাম</p>
                                                        <p class="font-medium">${slider.banglaTitle || slider.title}</p>
                                                    </div>
                                                    <div>
                                                        <p class="text-sm text-gray-500">সাবটাইটেল</p>
                                                        <p class="font-medium">${slider.banglaSubtitle || slider.subtitle}</p>
                                                    </div>
                                                </div>
                                                
                                                <div class="mb-4">
                                                    <p class="text-sm text-gray-500">বর্ণনা</p>
                                                    <p class="text-gray-700">${slider.banglaDescription || slider.description}</p>
                                                </div>
                                                
                                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                                    ${slider.badgeBanglaText || slider.badgeText ? `
                                                        <div>
                                                            <p class="text-sm text-gray-500">ব্যাজ</p>
                                                            <span class="inline-block px-3 py-1 bg-${slider.badgeColor || 'red'}-600 text-white text-xs rounded-full">
                                                                ${slider.badgeBanglaText || slider.badgeText}
                                                            </span>
                                                        </div>
                                                    ` : ''}
                                                    ${slider.price ? `
                                                        <div>
                                                            <p class="text-sm text-gray-500">দাম</p>
                                                            <p class="font-bold text-red-600">${slider.price}৳</p>
                                                            ${slider.originalPrice ? `
                                                                <p class="text-xs text-gray-400 line-through">${slider.originalPrice}৳</p>
                                                            ` : ''}
                                                        </div>
                                                    ` : ''}
                                                    <div>
                                                        <p class="text-sm text-gray-500">বাটন</p>
                                                        <p class="text-sm">${slider.buttonText || 'অর্ডার করুন'}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('') : 
                                `<div class="text-center p-12 text-gray-500">কোনো স্লাইডার নেই</div>`
                            }
                        </div>
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Sliders page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // স্লাইডার ডিলিট
    // ============================================
    async function deleteSlider(sliderId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই স্লাইডার ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/sliders/${sliderId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadSlidersPage();
                showNotification('স্লাইডার ডিলিট করা হয়েছে', 'success');
            } else {
                throw new Error('Failed to delete slider');
            }
        } catch (error) {
            console.error('Error deleting slider:', error);
            showNotification('স্লাইডার ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // স্লাইডার এডিট (শুধু বাংলা)
    // ============================================
    async function editSlider(sliderId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/sliders`);
            const sliders = await response.json();
            const slider = sliders.find(s => s._id === sliderId);
            
            if (slider) {
                document.getElementById('slider-modal-title').textContent = 'স্লাইডার সম্পাদনা';
                document.getElementById('slider-id').value = slider._id;
                document.getElementById('slider-number').value = slider.slideNumber;
                document.getElementById('slider-title').value = slider.banglaTitle || slider.title || '';
                document.getElementById('slider-subtitle').value = slider.banglaSubtitle || slider.subtitle || '';
                document.getElementById('slider-description').value = slider.banglaDescription || slider.description || '';
                document.getElementById('slider-badge-text').value = slider.badgeBanglaText || slider.badgeText || '';
                document.getElementById('slider-badge-color').value = slider.badgeColor || 'red';
                document.getElementById('slider-price').value = slider.price || '';
                document.getElementById('slider-original-price').value = slider.originalPrice || '';
                document.getElementById('slider-button-text').value = slider.buttonText || 'অর্ডার করুন';
                document.getElementById('slider-button-link').value = slider.buttonLink || '#order';
                document.getElementById('slider-status').checked = slider.isActive !== false;
                document.getElementById('slider-status-text').textContent = slider.isActive !== false ? 'সক্রিয়' : 'নিষ্ক্রিয়';
                
                // Set image URL
                document.getElementById('slider-image-url').value = slider.imageUrl || '';
                const urlPreview = document.getElementById('slider-url-preview');
                if (slider.imageUrl) {
                    urlPreview.src = slider.imageUrl;
                    urlPreview.classList.add('show');
                }
                
                // Set mobile image if exists
                if (slider.mobileImageUrl) {
                    document.getElementById('slider-mobile-base64').value = slider.mobileImageUrl;
                    const mobilePreview = document.getElementById('slider-mobile-preview');
                    mobilePreview.src = slider.mobileImageUrl;
                    mobilePreview.classList.add('show');
                    document.getElementById('slider-mobile-upload').classList.add('has-image');
                }
                
                // Activate URL tab
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                document.querySelector('.tab-btn[data-tab="slider-url-tab"]').classList.add('active');
                document.getElementById('slider-url-tab').classList.add('active');
                
                document.getElementById('slider-modal').classList.add('active');
            }
        } catch (error) {
            console.error('Error loading slider:', error);
            showNotification('স্লাইডার লোড করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // স্লাইডার সাবমিট (শুধু বাংলা)
    // ============================================
    async function handleSliderSubmit(e) {
        e.preventDefault();
        
        const submitBtn = e.target.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<div class="spinner mr-2"></div> সেভ হচ্ছে...';
        submitBtn.disabled = true;
        
        const sliderId = document.getElementById('slider-id').value;
        
        // Get image from active tab
        let imageData = {};
        const activeTab = document.querySelector('.tab-content.active');
        
        if (activeTab.id === 'slider-url-tab') {
            const imageUrl = document.getElementById('slider-image-url').value;
            if (!imageUrl) {
                showNotification('স্লাইডার ইমেজ URL দিন', 'error');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                return;
            }
            imageData.imageUrl = imageUrl;
        } else if (activeTab.id === 'slider-upload-tab') {
            const base64Data = document.getElementById('slider-image-base64').value;
            if (!base64Data) {
                showNotification('স্লাইডার ইমেজ ফাইল নির্বাচন করুন', 'error');
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                return;
            }
            imageData.imageFile = base64Data;
        }
        
        // Mobile image
        const mobileBase64 = document.getElementById('slider-mobile-base64').value;
        if (mobileBase64) {
            imageData.mobileImageFile = mobileBase64;
        }
        
        // Collect Bangla fields and use them for both English and Bangla
        const banglaTitle = document.getElementById('slider-title').value;
        const banglaSubtitle = document.getElementById('slider-subtitle').value;
        const banglaDescription = document.getElementById('slider-description').value;
        const banglaBadgeText = document.getElementById('slider-badge-text').value;
        
        const sliderData = {
            slideNumber: parseInt(document.getElementById('slider-number').value),
            title: banglaTitle,
            banglaTitle: banglaTitle,
            subtitle: banglaSubtitle,
            banglaSubtitle: banglaSubtitle,
            description: banglaDescription,
            banglaDescription: banglaDescription,
            badgeText: banglaBadgeText,
            badgeBanglaText: banglaBadgeText,
            badgeColor: document.getElementById('slider-badge-color').value,
            price: parseFloat(document.getElementById('slider-price').value) || 0,
            originalPrice: parseFloat(document.getElementById('slider-original-price').value) || 0,
            buttonText: document.getElementById('slider-button-text').value,
            buttonLink: document.getElementById('slider-button-link').value,
            isActive: document.getElementById('slider-status').checked,
            ...imageData
        };
        
        try {
            const url = sliderId ? 
                `${API_BASE_URL}/api/admin/sliders/${sliderId}` : 
                `${API_BASE_URL}/api/admin/sliders`;
            
            const method = sliderId ? 'PUT' : 'POST';
            
            const response = await fetch(url, {
                method: method,
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(sliderData)
            });
            
            if (response.ok) {
                hideSliderModal();
                loadSlidersPage();
                showNotification('স্লাইডার সেভ করা হয়েছে', 'success');
            } else {
                const error = await response.json();
                throw new Error(error.error || 'Failed to save slider');
            }
        } catch (error) {
            console.error('Error saving slider:', error);
            showNotification('স্লাইডার সেভ করতে সমস্যা হয়েছে: ' + error.message, 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    
    // ============================================
    // স্লাইডার মডাল দেখান (শুধু বাংলা)
    // ============================================
    function showAddSliderModal() {
        document.getElementById('slider-modal-title').textContent = 'নতুন স্লাইডার যোগ করুন';
        document.getElementById('slider-id').value = '';
        document.getElementById('slider-form').reset();
        document.getElementById('slider-status').checked = true;
        document.getElementById('slider-status-text').textContent = 'সক্রিয়';
        document.getElementById('slider-number').value = sliders.length + 1;
        
        // Reset upload areas
        document.getElementById('slider-image-upload').classList.remove('has-image');
        document.getElementById('slider-upload-preview').classList.remove('show');
        document.getElementById('slider-mobile-upload').classList.remove('has-image');
        document.getElementById('slider-mobile-preview').classList.remove('show');
        document.getElementById('slider-url-preview').classList.remove('show');
        document.getElementById('slider-image-url').value = '';
        document.getElementById('slider-image-base64').value = '';
        document.getElementById('slider-mobile-base64').value = '';
        
        // Activate URL tab
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.querySelector('.tab-btn[data-tab="slider-url-tab"]').classList.add('active');
        document.getElementById('slider-url-tab').classList.add('active');
        
        document.getElementById('slider-modal').classList.add('active');
    }
    
    // ============================================
    // স্লাইডার মডাল বন্ধ
    // ============================================
    function hideSliderModal() {
        document.getElementById('slider-modal').classList.remove('active');
    }
    
    // ============================================
    // কন্টাক্ট পেজ
    // ============================================
    async function loadContactsPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/contacts`);
            contacts = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                    <i class="fas fa-envelope mr-3 text-blue-600"></i>
                                    কন্টাক্ট মেসেজ
                                </h3>
                                <p class="text-gray-600 text-sm mt-1">মোট ${contacts.length} টি বার্তা</p>
                            </div>
                            <div class="flex space-x-3">
                                <select id="contact-filter" class="form-input w-48" onchange="filterContacts()">
                                    <option value="">সব বার্তা</option>
                                    <option value="unread">অপঠিত</option>
                                    <option value="read">পঠিত</option>
                                </select>
                                <input type="text" id="contact-search" class="form-input w-48" placeholder="নাম, ফোন..." onkeyup="filterContacts()">
                                <button onclick="loadContactsPage()" class="btn btn-outline">
                                    <i class="fas fa-sync mr-2"></i>
                                    রিফ্রেশ
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6" id="contacts-list">
                        ${contacts.length > 0 ? 
                            contacts.map(contact => `
                                <div class="border border-gray-200 rounded-lg p-5 mb-4 hover:shadow-md transition ${!contact.isRead ? 'bg-blue-50 border-blue-200' : ''}">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="flex items-start">
                                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xl font-bold mr-4">
                                                ${contact.name.charAt(0)}
                                            </div>
                                            <div>
                                                <h4 class="font-bold text-lg">${contact.name}</h4>
                                                <p class="text-gray-600 text-sm">
                                                    <i class="fas fa-phone mr-1"></i>${contact.phone}
                                                    ${contact.email ? ` • <i class="fas fa-envelope mr-1"></i>${contact.email}` : ''}
                                                </p>
                                                <p class="text-gray-500 text-xs mt-1">
                                                    <i class="far fa-clock mr-1"></i>${formatDate(contact.createdAt)}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="status-badge ${!contact.isRead ? 'badge-warning' : 'badge-success'}">
                                                ${!contact.isRead ? 'অপঠিত' : 'পঠিত'}
                                            </span>
                                            ${contact.replied ? '<span class="status-badge badge-info">জবাব দেওয়া হয়েছে</span>' : ''}
                                        </div>
                                    </div>
                                    
                                    ${contact.subject ? `
                                        <div class="mb-2">
                                            <span class="font-medium">বিষয়:</span> ${contact.subject}
                                        </div>
                                    ` : ''}
                                    
                                    <div class="bg-gray-50 p-4 rounded-lg mb-4">
                                        <p class="text-gray-700">${contact.message}</p>
                                    </div>
                                    
                                    <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-200">
                                        <div class="flex space-x-3">
                                            ${!contact.isRead ? `
                                                <button onclick="markContactRead('${contact._id}')" 
                                                        class="btn btn-outline text-sm">
                                                    <i class="fas fa-check mr-1"></i> পঠিত হিসেবে চিহ্নিত
                                                </button>
                                            ` : ''}
                                            <button onclick="window.location.href='mailto:${contact.email}'" 
                                                    class="btn btn-outline text-sm">
                                                <i class="fas fa-reply mr-1"></i> জবাব দিন
                                            </button>
                                        </div>
                                        <button onclick="deleteContact('${contact._id}')" 
                                                class="text-red-600 hover:text-red-800 p-2">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            `).join('') : 
                            `<div class="text-center p-12 text-gray-500">কোনো বার্তা নেই</div>`
                        }
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Contacts page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // কন্টাক্ট ফিল্টার
    // ============================================
    function filterContacts() {
        const filter = document.getElementById('contact-filter').value;
        const searchText = document.getElementById('contact-search').value.toLowerCase();
        
        let filtered = contacts;
        
        if (filter === 'unread') {
            filtered = contacts.filter(c => !c.isRead);
        } else if (filter === 'read') {
            filtered = contacts.filter(c => c.isRead);
        }
        
        if (searchText) {
            filtered = filtered.filter(c => 
                (c.name && c.name.toLowerCase().includes(searchText)) ||
                (c.phone && c.phone.includes(searchText)) ||
                (c.email && c.email.toLowerCase().includes(searchText)) ||
                (c.message && c.message.toLowerCase().includes(searchText))
            );
        }
        
        const contactsList = document.getElementById('contacts-list');
        if (contactsList) {
            contactsList.innerHTML = filtered.length > 0 ? 
                filtered.map(contact => `
                    <div class="border border-gray-200 rounded-lg p-5 mb-4 hover:shadow-md transition ${!contact.isRead ? 'bg-blue-50 border-blue-200' : ''}">
                        <div class="flex justify-between items-start mb-4">
                            <div class="flex items-start">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xl font-bold mr-4">
                                    ${contact.name.charAt(0)}
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg">${contact.name}</h4>
                                    <p class="text-gray-600 text-sm">
                                        <i class="fas fa-phone mr-1"></i>${contact.phone}
                                        ${contact.email ? ` • <i class="fas fa-envelope mr-1"></i>${contact.email}` : ''}
                                    </p>
                                    <p class="text-gray-500 text-xs mt-1">
                                        <i class="far fa-clock mr-1"></i>${formatDate(contact.createdAt)}
                                    </p>
                                </div>
                            </div>
                            <span class="status-badge ${!contact.isRead ? 'badge-warning' : 'badge-success'}">
                                ${!contact.isRead ? 'অপঠিত' : 'পঠিত'}
                            </span>
                        </div>
                        ${contact.subject ? `<div class="mb-2"><span class="font-medium">বিষয়:</span> ${contact.subject}</div>` : ''}
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <p class="text-gray-700">${contact.message}</p>
                        </div>
                        <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-200">
                            <div class="flex space-x-3">
                                ${!contact.isRead ? `
                                    <button onclick="markContactRead('${contact._id}')" class="btn btn-outline text-sm">
                                        <i class="fas fa-check mr-1"></i> পঠিত
                                    </button>
                                ` : ''}
                                <button onclick="window.location.href='mailto:${contact.email}'" class="btn btn-outline text-sm">
                                    <i class="fas fa-reply mr-1"></i> জবাব
                                </button>
                            </div>
                            <button onclick="deleteContact('${contact._id}')" class="text-red-600 hover:text-red-800 p-2">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('') : 
                '<div class="text-center p-12 text-gray-500">কোনো বার্তা পাওয়া যায়নি</div>';
        }
    }
    
    // ============================================
    // কন্টাক্ট পঠিত হিসেবে চিহ্নিত
    // ============================================
    async function markContactRead(contactId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/contacts/${contactId}`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ isRead: true })
            });
            
            if (response.ok) {
                loadContactsPage();
                showNotification('বার্তা পঠিত হিসেবে চিহ্নিত করা হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error marking contact read:', error);
            showNotification('বার্তা আপডেট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // কন্টাক্ট ডিলিট
    // ============================================
    async function deleteContact(contactId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই বার্তা ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/contacts/${contactId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadContactsPage();
                showNotification('বার্তা ডিলিট করা হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error deleting contact:', error);
            showNotification('বার্তা ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // কুপন পেজ
    // ============================================
    async function loadCouponsPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/coupons`);
            coupons = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center gap-4">
                        <div>
                            <h3 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-ticket-alt mr-3 text-green-600"></i>
                                কুপন ব্যবস্থাপনা
                            </h3>
                            <p class="text-gray-600 text-sm mt-1">মোট ${coupons.length} টি কুপন</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="loadCouponsPage()" class="btn btn-outline">
                                <i class="fas fa-sync mr-2"></i>
                                রিফ্রেশ
                            </button>
                            <button onclick="showAddCouponModal()" class="btn btn-primary">
                                <i class="fas fa-plus mr-2"></i>
                                নতুন কুপন
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${coupons.length > 0 ? 
                                coupons.map(coupon => `
                                    <div class="border border-gray-200 rounded-lg p-5 hover:shadow-lg transition relative overflow-hidden">
                                        ${coupon.isActive ? '' : `
                                            <div class="absolute top-0 right-0 bg-red-600 text-white px-3 py-1 text-xs font-bold rounded-bl-lg">
                                                নিষ্ক্রিয়
                                            </div>
                                        `}
                                        <div class="mb-4">
                                            <div class="text-2xl font-bold text-red-600 mb-2">${coupon.code}</div>
                                            <p class="text-gray-600 text-sm">${coupon.description || ''}</p>
                                        </div>
                                        
                                        <div class="space-y-2 mb-4">
                                            <div class="flex justify-between">
                                                <span class="text-gray-500 text-sm">ছাড়ের ধরণ:</span>
                                                <span class="font-medium">${coupon.discountType === 'percentage' ? `${coupon.discountValue}%` : `${coupon.discountValue}৳`}</span>
                                            </div>
                                            ${coupon.minOrderAmount ? `
                                                <div class="flex justify-between">
                                                    <span class="text-gray-500 text-sm">ন্যূনতম অর্ডার:</span>
                                                    <span class="font-medium">${coupon.minOrderAmount}৳</span>
                                                </div>
                                            ` : ''}
                                            ${coupon.maxDiscount ? `
                                                <div class="flex justify-between">
                                                    <span class="text-gray-500 text-sm">সর্বোচ্চ ছাড়:</span>
                                                    <span class="font-medium">${coupon.maxDiscount}৳</span>
                                                </div>
                                            ` : ''}
                                            <div class="flex justify-between">
                                                <span class="text-gray-500 text-sm">ব্যবহার:</span>
                                                <span class="font-medium">${coupon.usedCount || 0}/${coupon.usageLimit || '∞'}</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-gray-500 text-sm">মেয়াদ:</span>
                                                <span class="font-medium text-sm">
                                                    ${coupon.validUntil ? formatDate(coupon.validUntil) : 'আনলিমিটেড'}
                                                </span>
                                            </div>
                                        </div>
                                        
                                        <div class="flex justify-end space-x-2 pt-4 border-t border-gray-200">
                                            <button onclick="editCoupon('${coupon._id}')" 
                                                    class="text-blue-600 hover:text-blue-800 p-2">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button onclick="deleteCoupon('${coupon._id}')" 
                                                    class="text-red-600 hover:text-red-800 p-2">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                `).join('') : 
                                `<div class="col-span-full text-center p-12 text-gray-500">কোনো কুপন নেই</div>`
                            }
                        </div>
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Coupons page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // কুপন মডাল দেখান
    // ============================================
    function showAddCouponModal() {
        document.getElementById('coupon-modal-title').textContent = 'নতুন কুপন যোগ করুন';
        document.getElementById('coupon-id').value = '';
        document.getElementById('coupon-form').reset();
        document.getElementById('coupon-status').checked = true;
        document.getElementById('coupon-status-text').textContent = 'সক্রিয়';
        
        // Set default dates
        const today = new Date();
        const nextMonth = new Date();
        nextMonth.setMonth(today.getMonth() + 1);
        
        document.getElementById('coupon-valid-from').value = today.toISOString().split('T')[0];
        document.getElementById('coupon-valid-until').value = nextMonth.toISOString().split('T')[0];
        
        document.getElementById('coupon-modal').classList.add('active');
    }
    
    // ============================================
    // কুপন এডিট
    // ============================================
    async function editCoupon(couponId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/coupons`);
            const coupons = await response.json();
            const coupon = coupons.find(c => c._id === couponId);
            
            if (coupon) {
                document.getElementById('coupon-modal-title').textContent = 'কুপন সম্পাদনা';
                document.getElementById('coupon-id').value = coupon._id;
                document.getElementById('coupon-code').value = coupon.code || '';
                document.getElementById('coupon-description').value = coupon.description || '';
                document.getElementById('coupon-discount-type').value = coupon.discountType || 'percentage';
                document.getElementById('coupon-discount-value').value = coupon.discountValue || 0;
                document.getElementById('coupon-min-order').value = coupon.minOrderAmount || '';
                document.getElementById('coupon-max-discount').value = coupon.maxDiscount || '';
                
                if (coupon.validFrom) {
                    const date = new Date(coupon.validFrom);
                    document.getElementById('coupon-valid-from').value = date.toISOString().split('T')[0];
                }
                
                if (coupon.validUntil) {
                    const date = new Date(coupon.validUntil);
                    document.getElementById('coupon-valid-until').value = date.toISOString().split('T')[0];
                }
                
                document.getElementById('coupon-usage-limit').value = coupon.usageLimit || '';
                document.getElementById('coupon-status').checked = coupon.isActive !== false;
                document.getElementById('coupon-status-text').textContent = coupon.isActive !== false ? 'সক্রিয়' : 'নিষ্ক্রিয়';
                
                document.getElementById('coupon-modal').classList.add('active');
            }
        } catch (error) {
            console.error('Error loading coupon:', error);
            showNotification('কুপন লোড করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // কুপন সাবমিট
    // ============================================
    async function handleCouponSubmit(e) {
        e.preventDefault();
        
        const submitBtn = e.target.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<div class="spinner mr-2"></div> সেভ হচ্ছে...';
        submitBtn.disabled = true;
        
        const couponId = document.getElementById('coupon-id').value;
        
        const couponData = {
            code: document.getElementById('coupon-code').value.toUpperCase(),
            description: document.getElementById('coupon-description').value,
            discountType: document.getElementById('coupon-discount-type').value,
            discountValue: parseFloat(document.getElementById('coupon-discount-value').value),
            minOrderAmount: parseFloat(document.getElementById('coupon-min-order').value) || 0,
            maxDiscount: parseFloat(document.getElementById('coupon-max-discount').value) || 0,
            validFrom: document.getElementById('coupon-valid-from').value || null,
            validUntil: document.getElementById('coupon-valid-until').value || null,
            usageLimit: parseInt(document.getElementById('coupon-usage-limit').value) || 0,
            isActive: document.getElementById('coupon-status').checked
        };
        
        if (!couponData.code) {
            showNotification('কুপন কোড দিন', 'error');
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            return;
        }
        
        if (!couponData.discountValue || couponData.discountValue <= 0) {
            showNotification('ছাড়ের পরিমাণ দিন', 'error');
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            return;
        }
        
        try {
            const url = couponId ? 
                `${API_BASE_URL}/api/admin/coupons/${couponId}` : 
                `${API_BASE_URL}/api/admin/coupons`;
            
            const method = couponId ? 'PUT' : 'POST';
            
            const response = await fetch(url, {
                method: method,
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(couponData)
            });
            
            if (response.ok) {
                hideCouponModal();
                loadCouponsPage();
                showNotification('কুপন সেভ করা হয়েছে', 'success');
            } else {
                const error = await response.json();
                throw new Error(error.error || 'Failed to save coupon');
            }
        } catch (error) {
            console.error('Error saving coupon:', error);
            showNotification('কুপন সেভ করতে সমস্যা হয়েছে: ' + error.message, 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    
    // ============================================
    // কুপন মডাল বন্ধ
    // ============================================
    function hideCouponModal() {
        document.getElementById('coupon-modal').classList.remove('active');
    }
    
    // ============================================
    // কুপন ডিলিট
    // ============================================
    async function deleteCoupon(couponId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই কুপন ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/coupons/${couponId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadCouponsPage();
                showNotification('কুপন ডিলিট করা হয়েছে', 'success');
            }
        } catch (error) {
            console.error('Error deleting coupon:', error);
            showNotification('কুপন ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // সেটিংস পেজ
    // ============================================
    async function loadSettingsPage() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/settings`);
            settings = await response.json();
            
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="bg-white rounded-xl border border-gray-200">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            <i class="fas fa-cog mr-3 text-gray-600"></i>
                            ওয়েবসাইট সেটিংস
                        </h3>
                        <p class="text-gray-600 text-sm mt-1">সম্পূর্ণ ওয়েবসাইট কনফিগারেশন</p>
                    </div>
                    
                    <div class="p-6">
                        <form id="settings-form" class="space-y-8">
                            <!-- Contact Information -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-address-card mr-2 text-blue-600"></i>
                                    যোগাযোগের তথ্য
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-whatsapp mr-2 text-green-600"></i>
                                            হোয়াটসঅ্যাপ নম্বর
                                        </label>
                                        <input type="text" id="whatsapp-number" class="form-input" 
                                               value="${settings.whatsappNumber || '01911465879'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-phone mr-2 text-blue-600"></i>
                                            ফোন নম্বর
                                        </label>
                                        <input type="text" id="phone-number" class="form-input" 
                                               value="${settings.phoneNumber || '01911465879'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-phone mr-2 text-blue-600"></i>
                                            দ্বিতীয় ফোন নম্বর
                                        </label>
                                        <input type="text" id="phone-number-2" class="form-input" 
                                               value="${settings.phoneNumber2 || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fas fa-envelope mr-2 text-red-600"></i>
                                            ইমেইল
                                        </label>
                                        <input type="email" id="email" class="form-input" 
                                               value="${settings.email || 'royaltrustbd@gmail.com'}">
                                    </div>
                                    <div class="form-group md:col-span-2">
                                        <label class="form-label">
                                            <i class="fas fa-map-marker-alt mr-2 text-red-600"></i>
                                            ঠিকানা
                                        </label>
                                        <input type="text" id="address" class="form-input" 
                                               value="${settings.address || 'ঢাকা, বাংলাদেশ'}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Delivery Settings -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-truck mr-2 text-green-600"></i>
                                    ডেলিভারি সেটিংস
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">ঢাকার ভিতরে চার্জ</label>
                                        <input type="number" id="delivery-inside" class="form-input" 
                                               value="${settings.deliveryChargeInsideDhaka || 60}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ঢাকার বাইরে চার্জ</label>
                                        <input type="number" id="delivery-outside" class="form-input" 
                                               value="${settings.deliveryChargeOutsideDhaka || 160}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ফ্রি ডেলিভারি থ্রেশহোল্ড</label>
                                        <input type="number" id="free-delivery" class="form-input" 
                                               value="${settings.freeDeliveryThreshold || 3000}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ডেলিভারি সময়</label>
                                        <input type="text" id="delivery-time" class="form-input" 
                                               value="${settings.deliveryTime || '২-৩ কার্যদিবস'}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Business Hours -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-clock mr-2 text-yellow-600"></i>
                                    সার্ভিস সময়
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">সার্ভিস আওয়ার</label>
                                        <input type="text" id="service-hours" class="form-input" 
                                               value="${settings.serviceHours || 'সকাল ৯টা - রাত ১০টা'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">সার্ভিস ডেজ</label>
                                        <input type="text" id="service-days" class="form-input" 
                                               value="${settings.serviceDays || 'শনি-বৃহস্পতি'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">সাপ্তাহিক ছুটি</label>
                                        <input type="text" id="weekly-holiday" class="form-input" 
                                               value="${settings.weeklyHoliday || 'শুক্রবার'}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Homepage Settings -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-home mr-2 text-purple-600"></i>
                                    হোমপেজ সেটিংস
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">পৃষ্ঠার শিরোনাম</label>
                                        <input type="text" id="homepage-title" class="form-input" 
                                               value="${settings.homePageTitle || 'আমাদের পাঞ্জাবি কালেকশন'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">পৃষ্ঠার সাবটাইটেল</label>
                                        <input type="text" id="homepage-subtitle" class="form-input" 
                                               value="${settings.homePageSubtitle || 'প্রিমিয়াম কোয়ালিটি, রয়েল ফিনিশিং'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">অর্ডার ফর্ম শিরোনাম</label>
                                        <input type="text" id="order-form-title" class="form-input" 
                                               value="${settings.orderFormTitle || 'পাঞ্জাবি অর্ডার ফর্ম'}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">অর্ডার ফর্ম সাবটাইটেল</label>
                                        <input type="text" id="order-form-subtitle" class="form-input" 
                                               value="${settings.orderFormSubtitle || 'নিচের ফর্মটি পূরণ করে অর্ডার কনফার্ম করুন'}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Footer Settings -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-copyright mr-2 text-gray-600"></i>
                                    ফুটার সেটিংস
                                </h4>
                                <div class="form-group">
                                    <label class="form-label">ফুটার টেক্সট</label>
                                    <textarea id="footer-text" rows="2" class="form-textarea">${settings.footerText || 'প্রিমিয়াম পাঞ্জাবি, টি-শার্ট, থ্রি পিজ ও ফিটনেস পরিধানের নির্ভরযোগ্য ঠিকানা'}</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">কপিরাইট টেক্সট</label>
                                    <input type="text" id="footer-copyright" class="form-input" 
                                           value="${settings.footerCopyright || 'ROYAL TRUST BD. সকল স্বত্ব সংরক্ষিত।'}">
                                </div>
                            </div>
                            
                            <!-- SEO Settings -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-chart-line mr-2 text-blue-600"></i>
                                    SEO সেটিংস
                                </h4>
                                <div class="form-group">
                                    <label class="form-label">মেটা টাইটেল</label>
                                    <input type="text" id="meta-title" class="form-input" 
                                           value="${settings.metaTitle || 'ROYAL TRUST BD - প্রিমিয়াম পাঞ্জাবি ও ফ্যাশন'}">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">মেটা ডেসক্রিপশন</label>
                                    <textarea id="meta-description" rows="2" class="form-textarea">${settings.metaDescription || 'উচ্চমানের পাঞ্জাবি, টি-শার্ট, থ্রি পিজ ও ফিটনেস গিয়ার। রয়েল কোয়ালিটি, রয়েল ফিনিশিং।'}</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">মেটা কীওয়ার্ডস</label>
                                    <input type="text" id="meta-keywords" class="form-input" 
                                           value="${settings.metaKeywords || 'পাঞ্জাবি, টি-শার্ট, থ্রি পিজ, ফিটনেস, রয়েল ট্রাস্ট'}">
                                </div>
                            </div>
                            
                            <!-- Social Media -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-share-alt mr-2 text-blue-600"></i>
                                    সোশ্যাল মিডিয়া
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fab fa-facebook mr-2 text-blue-600"></i>
                                            ফেসবুক
                                        </label>
                                        <input type="url" id="facebook" class="form-input" 
                                               value="${settings.facebook || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fab fa-instagram mr-2 text-pink-600"></i>
                                            ইনস্টাগ্রাম
                                        </label>
                                        <input type="url" id="instagram" class="form-input" 
                                               value="${settings.instagram || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fab fa-youtube mr-2 text-red-600"></i>
                                            ইউটিউব
                                        </label>
                                        <input type="url" id="youtube" class="form-input" 
                                               value="${settings.youtube || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <i class="fab fa-twitter mr-2 text-blue-400"></i>
                                            টুইটার
                                        </label>
                                        <input type="url" id="twitter" class="form-input" 
                                               value="${settings.twitter || ''}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Branding -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-paint-brush mr-2 text-purple-600"></i>
                                    ব্র্যান্ডিং
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="form-group">
                                        <label class="form-label">লোগো</label>
                                        <div class="image-upload-area" id="logo-upload">
                                            <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                                            <p class="font-medium">লোগো আপলোড করুন</p>
                                            <input type="file" id="logo-file" accept="image/*" class="hidden">
                                            <input type="hidden" id="logo-base64">
                                        </div>
                                        ${settings.logo ? `
                                            <img src="${settings.logo}" class="w-32 h-32 object-contain mt-3 border border-gray-200 rounded-lg p-2">
                                        ` : ''}
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ফেভিকন</label>
                                        <div class="image-upload-area" id="favicon-upload">
                                            <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                                            <p class="font-medium">ফেভিকন আপলোড করুন</p>
                                            <input type="file" id="favicon-file" accept="image/*" class="hidden">
                                            <input type="hidden" id="favicon-base64">
                                        </div>
                                        ${settings.favicon ? `
                                            <img src="${settings.favicon}" class="w-16 h-16 object-contain mt-3 border border-gray-200 rounded-lg p-2">
                                        ` : ''}
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ব্র্যান্ড কালার</label>
                                        <input type="color" id="brand-color" class="form-input h-12 w-24 p-1" 
                                               value="${settings.brandColor || '#dc2626'}">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Feature Flags -->
                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h4 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <i class="fas fa-toggle-on mr-2 text-green-600"></i>
                                    ফিচার সেটিংস
                                </h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="flex items-center space-x-3">
                                        <label class="switch">
                                            <input type="checkbox" id="enable-reviews" ${settings.enableReviews !== false ? 'checked' : ''}>
                                            <span class="slider"></span>
                                        </label>
                                        <span class="font-medium">রিভিউ সিস্টেম</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <label class="switch">
                                            <input type="checkbox" id="enable-whatsapp" ${settings.enableWhatsApp !== false ? 'checked' : ''}>
                                            <span class="slider"></span>
                                        </label>
                                        <span class="font-medium">হোয়াটসঅ্যাপ বাটন</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <label class="switch">
                                            <input type="checkbox" id="enable-cod" ${settings.enableCOD !== false ? 'checked' : ''}>
                                            <span class="slider"></span>
                                        </label>
                                        <span class="font-medium">ক্যাশ অন ডেলিভারি</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex justify-end pt-6 border-t border-gray-200">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save mr-2"></i>
                                    সেটিংস সেভ করুন
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
            
            // Setup settings form submit
            document.getElementById('settings-form').addEventListener('submit', handleSettingsSubmit);
            
            // Setup logo upload
            setupSettingsUploads();
            
        } catch (error) {
            console.error('Settings page error:', error);
            throw error;
        }
    }
    
    // ============================================
    // সেটিংস আপলোড সেটআপ
    // ============================================
    function setupSettingsUploads() {
        // Logo upload
        const logoUpload = document.getElementById('logo-upload');
        if (logoUpload) {
            logoUpload.addEventListener('click', () => {
                document.getElementById('logo-file').click();
            });
            
            document.getElementById('logo-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                if (!file.type.startsWith('image/')) {
                    showNotification('শুধুমাত্র ইমেজ ফাইল নির্বাচন করুন', 'error');
                    return;
                }
                
                if (file.size > 2 * 1024 * 1024) {
                    showNotification('ফাইল সাইজ 2MB এর কম হতে হবে', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('logo-base64').value = e.target.result;
                    logoUpload.classList.add('has-image');
                    
                    // Show preview
                    const preview = document.createElement('img');
                    preview.src = e.target.result;
                    preview.className = 'w-32 h-32 object-contain mt-3 border border-gray-200 rounded-lg p-2';
                    
                    const existing = logoUpload.parentElement.querySelector('img:not(.hidden)');
                    if (existing) existing.remove();
                    logoUpload.parentElement.appendChild(preview);
                };
                reader.readAsDataURL(file);
            });
        }
        
        // Favicon upload
        const faviconUpload = document.getElementById('favicon-upload');
        if (faviconUpload) {
            faviconUpload.addEventListener('click', () => {
                document.getElementById('favicon-file').click();
            });
            
            document.getElementById('favicon-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                if (!file.type.startsWith('image/')) {
                    showNotification('শুধুমাত্র ইমেজ ফাইল নির্বাচন করুন', 'error');
                    return;
                }
                
                if (file.size > 1 * 1024 * 1024) {
                    showNotification('ফাইল সাইজ 1MB এর কম হতে হবে', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('favicon-base64').value = e.target.result;
                    faviconUpload.classList.add('has-image');
                    
                    // Show preview
                    const preview = document.createElement('img');
                    preview.src = e.target.result;
                    preview.className = 'w-16 h-16 object-contain mt-3 border border-gray-200 rounded-lg p-2';
                    
                    const existing = faviconUpload.parentElement.querySelector('img:not(.hidden)');
                    if (existing) existing.remove();
                    faviconUpload.parentElement.appendChild(preview);
                };
                reader.readAsDataURL(file);
            });
        }
    }
    
    // ============================================
    // সেটিংস সাবমিট
    // ============================================
    async function handleSettingsSubmit(e) {
        e.preventDefault();
        
        const submitBtn = e.target.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<div class="spinner mr-2"></div> সেভ হচ্ছে...';
        submitBtn.disabled = true;
        
        const settingsData = {
            whatsappNumber: document.getElementById('whatsapp-number').value,
            phoneNumber: document.getElementById('phone-number').value,
            phoneNumber2: document.getElementById('phone-number-2').value,
            email: document.getElementById('email').value,
            address: document.getElementById('address').value,
            deliveryChargeInsideDhaka: parseFloat(document.getElementById('delivery-inside').value) || 60,
            deliveryChargeOutsideDhaka: parseFloat(document.getElementById('delivery-outside').value) || 160,
            freeDeliveryThreshold: parseFloat(document.getElementById('free-delivery').value) || 3000,
            deliveryTime: document.getElementById('delivery-time').value,
            serviceHours: document.getElementById('service-hours').value,
            serviceDays: document.getElementById('service-days').value,
            weeklyHoliday: document.getElementById('weekly-holiday').value,
            homePageTitle: document.getElementById('homepage-title').value,
            homePageSubtitle: document.getElementById('homepage-subtitle').value,
            orderFormTitle: document.getElementById('order-form-title').value,
            orderFormSubtitle: document.getElementById('order-form-subtitle').value,
            footerText: document.getElementById('footer-text').value,
            footerCopyright: document.getElementById('footer-copyright').value,
            metaTitle: document.getElementById('meta-title').value,
            metaDescription: document.getElementById('meta-description').value,
            metaKeywords: document.getElementById('meta-keywords').value,
            facebook: document.getElementById('facebook').value,
            instagram: document.getElementById('instagram').value,
            youtube: document.getElementById('youtube').value,
            twitter: document.getElementById('twitter').value,
            brandColor: document.getElementById('brand-color').value,
            enableReviews: document.getElementById('enable-reviews').checked,
            enableWhatsApp: document.getElementById('enable-whatsapp').checked,
            enableCOD: document.getElementById('enable-cod').checked
        };
        
        // Add logo if uploaded
        const logoBase64 = document.getElementById('logo-base64').value;
        if (logoBase64) {
            settingsData.logoFile = logoBase64;
        }
        
        const faviconBase64 = document.getElementById('favicon-base64').value;
        if (faviconBase64) {
            settingsData.faviconFile = faviconBase64;
        }
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/settings`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(settingsData)
            });
            
            if (response.ok) {
                showNotification('সেটিংস সেভ করা হয়েছে', 'success');
            } else {
                throw new Error('Failed to save settings');
            }
        } catch (error) {
            console.error('Error saving settings:', error);
            showNotification('সেটিংস সেভ করতে সমস্যা হয়েছে', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    
    // ============================================
    // পণ্য এডিট (শুধু বাংলা)
    // ============================================
    async function editProduct(productId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/products`);
            const products = await response.json();
            const product = products.find(p => p._id === productId);
            
            if (product) {
                // Load categories for dropdown
                const categoriesResponse = await fetch(`${API_BASE_URL}/api/admin/categories`);
                const categories = await categoriesResponse.json();
                
                document.getElementById('product-modal-title').textContent = 'পণ্য সম্পাদনা';
                document.getElementById('product-id').value = product._id;
                document.getElementById('product-name').value = product.banglaName || product.name || '';
                document.getElementById('product-description').value = product.banglaDescription || product.description || '';
                document.getElementById('product-size').value = product.size || '';
                document.getElementById('regular-price').value = product.regularPrice || 0;
                document.getElementById('offer-price').value = product.offerPrice || 0;
                document.getElementById('offer-percentage').value = product.offerPercentage || 0;
                document.getElementById('product-status').checked = product.isActive !== false;
                document.getElementById('product-status-text').textContent = product.isActive !== false ? 'সক্রিয়' : 'নিষ্ক্রিয়';
                document.getElementById('product-featured').checked = product.isFeatured || false;
                document.getElementById('product-featured-text').textContent = product.isFeatured ? 'হ্যাঁ' : 'না';
                document.getElementById('product-new-arrival').checked = product.isNewArrival || false;
                document.getElementById('product-new-arrival-text').textContent = product.isNewArrival ? 'হ্যাঁ' : 'না';
                document.getElementById('product-material').value = product.material || '';
                document.getElementById('product-fit').value = product.fit || '';
                document.getElementById('product-care').value = product.careInstructions || '';
                document.getElementById('product-stock').value = product.stock || 100;
                
                // Set category
                const categorySelect = document.getElementById('product-category');
                categorySelect.innerHTML = '<option value="">ক্যাটাগরি নির্বাচন করুন</option>';
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat._id;
                    option.textContent = cat.banglaName;
                    if (product.categoryId && product.categoryId._id === cat._id) {
                        option.selected = true;
                    }
                    categorySelect.appendChild(option);
                });
                
                // Load colors
                document.getElementById('colors-container').innerHTML = '';
                if (product.colors && product.colors.length > 0) {
                    product.colors.forEach((color, index) => {
                        addColorField();
                        const lastContainer = document.querySelector('#colors-container > div:last-child');
                        lastContainer.querySelector('[name="color-name"]').value = color.banglaName || color.name || '';
                        lastContainer.querySelector('[name="color-code"]').value = color.code || '#000000';
                        
                        if (color.image) {
                            const urlInput = lastContainer.querySelector('[name="color-image-url"]');
                            urlInput.value = color.image;
                            const preview = lastContainer.querySelector('[name="color-upload-preview"]');
                            preview.src = color.image;
                            preview.classList.remove('hidden');
                        }
                    });
                } else {
                    addColorField();
                }
                
                // Load features
                const featuresContainer = document.getElementById('features-container');
                featuresContainer.innerHTML = '';
                if (product.features && product.features.length > 0) {
                    product.features.forEach(feature => {
                        addFeatureField(feature);
                    });
                } else {
                    addFeatureField();
                }
                
                calculateDiscount();
                document.getElementById('product-modal').classList.add('active');
            }
        } catch (error) {
            console.error('Error loading product:', error);
            showNotification('পণ্য লোড করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // পণ্য ডিলিট
    // ============================================
    async function deleteProduct(productId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই পণ্য ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/products/${productId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadProductsPage();
                showNotification('পণ্য ডিলিট করা হয়েছে', 'success');
            } else {
                throw new Error('Failed to delete product');
            }
        } catch (error) {
            console.error('Error deleting product:', error);
            showNotification('পণ্য ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // ফিচার ফিল্ড যোগ
    // ============================================
    function addFeatureField(value = '') {
        const container = document.getElementById('features-container');
        const div = document.createElement('div');
        div.className = 'flex mb-2';
        div.innerHTML = `
            <input type="text" class="form-input flex-1" placeholder="যেমন: ১০০% খাঁটি সিল্ক" value="${value}">
            <button type="button" class="ml-2 text-red-600 hover:text-red-800 remove-feature-btn">
                <i class="fas fa-minus-circle text-xl"></i>
            </button>
        `;
        
        div.querySelector('.remove-feature-btn').addEventListener('click', function() {
            if (container.children.length > 1) {
                div.remove();
            }
        });
        
        container.appendChild(div);
    }
    
    // ============================================
    // পণ্য সাবমিট (শুধু বাংলা)
    // ============================================
    async function handleProductSubmit(e) {
        e.preventDefault();
        
        const submitBtn = document.getElementById('save-product-btn');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<div class="spinner mr-2"></div> সেভ হচ্ছে...';
        submitBtn.disabled = true;
        
        const productId = document.getElementById('product-id').value;
        
        // Collect colors
        const colors = [];
        document.querySelectorAll('#colors-container > div').forEach(container => {
            const name = container.querySelector('[name="color-name"]').value;
            const code = container.querySelector('[name="color-code"]').value;
            const imageUrl = container.querySelector('[name="color-image-url"]').value;
            const imageBase64 = container.querySelector('[name="color-image-base64"]')?.value;
            const uploadPreview = container.querySelector('[name="color-upload-preview"]');
            
            if (!name || !code) return;
            
            const colorData = { 
                name: name,
                banglaName: name,
                code 
            };
            
            if (imageBase64) {
                colorData.imageFile = imageBase64;
            } else if (imageUrl) {
                colorData.image = imageUrl;
            } else if (uploadPreview && uploadPreview.src && !uploadPreview.classList.contains('hidden')) {
                colorData.image = uploadPreview.src;
            } else {
                colorData.image = 'https://images.unsplash.com/photo-1596755094514-f87e34085b2c?w=800';
            }
            
            colors.push(colorData);
        });
        
        if (colors.length === 0) {
            showNotification('অন্তত একটি রং যোগ করুন', 'error');
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            return;
        }
        
        // Collect features
        const features = [];
        document.querySelectorAll('#features-container input').forEach(input => {
            if (input.value.trim()) {
                features.push(input.value.trim());
            }
        });
        
        const productData = {
            name: document.getElementById('product-name').value,
            banglaName: document.getElementById('product-name').value,
            description: document.getElementById('product-description').value,
            banglaDescription: document.getElementById('product-description').value,
            categoryId: document.getElementById('product-category').value,
            colors: colors,
            size: document.getElementById('product-size').value,
            regularPrice: parseFloat(document.getElementById('regular-price').value),
            offerPrice: parseFloat(document.getElementById('offer-price').value),
            isActive: document.getElementById('product-status').checked,
            isFeatured: document.getElementById('product-featured').checked,
            isNewArrival: document.getElementById('product-new-arrival').checked,
            features: features,
            material: document.getElementById('product-material').value,
            fit: document.getElementById('product-fit').value,
            careInstructions: document.getElementById('product-care').value,
            stock: parseInt(document.getElementById('product-stock').value) || 100
        };
        
        // Add category name from select
        const categorySelect = document.getElementById('product-category');
        const selectedOption = categorySelect.options[categorySelect.selectedIndex];
        if (selectedOption) {
            const category = categories.find(c => c._id === categorySelect.value);
            if (category) {
                productData.category = category.name;
                productData.categoryBangla = category.banglaName;
            }
        }
        
        try {
            const url = productId ? 
                `${API_BASE_URL}/api/admin/products/${productId}` : 
                `${API_BASE_URL}/api/admin/products`;
            
            const method = productId ? 'PUT' : 'POST';
            
            const response = await fetch(url, {
                method: method,
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(productData)
            });
            
            if (response.ok) {
                hideProductModal();
                loadProductsPage();
                showNotification('পণ্য সেভ করা হয়েছে', 'success');
            } else {
                const error = await response.json();
                throw new Error(error.error || 'Failed to save product');
            }
        } catch (error) {
            console.error('Error saving product:', error);
            showNotification('পণ্য সেভ করতে সমস্যা হয়েছে: ' + error.message, 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    
    // ============================================
    // পণ্য মডাল দেখান (শুধু বাংলা)
    // ============================================
    async function showAddProductModal() {
        document.getElementById('product-modal-title').textContent = 'নতুন পণ্য যোগ করুন';
        document.getElementById('product-id').value = '';
        document.getElementById('product-form').reset();
        document.getElementById('product-status').checked = true;
        document.getElementById('product-status-text').textContent = 'সক্রিয়';
        document.getElementById('product-featured').checked = false;
        document.getElementById('product-featured-text').textContent = 'না';
        document.getElementById('product-new-arrival').checked = true;
        document.getElementById('product-new-arrival-text').textContent = 'হ্যাঁ';
        
        // Load categories
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/categories`);
            categories = await response.json();
            
            const categorySelect = document.getElementById('product-category');
            categorySelect.innerHTML = '<option value="">ক্যাটাগরি নির্বাচন করুন</option>';
            categories.filter(c => c.isActive).forEach(cat => {
                const option = document.createElement('option');
                option.value = cat._id;
                option.textContent = cat.banglaName;
                categorySelect.appendChild(option);
            });
        } catch (error) {
            console.error('Error loading categories:', error);
        }
        
        // Clear colors
        document.getElementById('colors-container').innerHTML = '';
        addColorField();
        
        // Clear features
        document.getElementById('features-container').innerHTML = '';
        addFeatureField();
        
        calculateDiscount();
        document.getElementById('product-modal').classList.add('active');
    }
    
    // ============================================
    // পণ্য মডাল বন্ধ
    // ============================================
    function hideProductModal() {
        document.getElementById('product-modal').classList.remove('active');
    }
    
    // ============================================
    // ক্যাটাগরি মডাল দেখান (শুধু বাংলা)
    // ============================================
    function showAddCategoryModal() {
        document.getElementById('category-modal-title').textContent = 'নতুন ক্যাটাগরি';
        document.getElementById('category-id').value = '';
        document.getElementById('category-form').reset();
        document.getElementById('category-status').checked = true;
        document.getElementById('category-status-text').textContent = 'সক্রিয়';
        document.getElementById('category-modal').classList.add('active');
    }
    
    // ============================================
    // ক্যাটাগরি এডিট (শুধু বাংলা)
    // ============================================
    async function editCategory(categoryId) {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/categories`);
            const categories = await response.json();
            const category = categories.find(c => c._id === categoryId);
            
            if (category) {
                document.getElementById('category-modal-title').textContent = 'ক্যাটাগরি সম্পাদনা';
                document.getElementById('category-id').value = category._id;
                document.getElementById('category-name').value = category.banglaName || category.name || '';
                document.getElementById('category-description').value = category.description || '';
                document.getElementById('category-icon').value = category.icon || 'fa-tag';
                document.getElementById('category-order').value = category.order || 0;
                document.getElementById('category-status').checked = category.isActive !== false;
                document.getElementById('category-status-text').textContent = category.isActive !== false ? 'সক্রিয়' : 'নিষ্ক্রিয়';
                
                document.getElementById('category-modal').classList.add('active');
            }
        } catch (error) {
            console.error('Error loading category:', error);
            showNotification('ক্যাটাগরি লোড করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // ক্যাটাগরি সাবমিট (শুধু বাংলা)
    // ============================================
    async function handleCategorySubmit(e) {
        e.preventDefault();
        
        const submitBtn = e.target.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<div class="spinner mr-2"></div> সেভ হচ্ছে...';
        submitBtn.disabled = true;
        
        const categoryId = document.getElementById('category-id').value;
        
        const banglaName = document.getElementById('category-name').value;
        const categoryData = {
            name: banglaName,
            banglaName: banglaName,
            description: document.getElementById('category-description').value,
            icon: document.getElementById('category-icon').value,
            order: parseInt(document.getElementById('category-order').value) || 0,
            isActive: document.getElementById('category-status').checked
        };
        
        try {
            const url = categoryId ? 
                `${API_BASE_URL}/api/admin/categories/${categoryId}` : 
                `${API_BASE_URL}/api/admin/categories`;
            
            const method = categoryId ? 'PUT' : 'POST';
            
            const response = await fetch(url, {
                method: method,
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(categoryData)
            });
            
            if (response.ok) {
                hideCategoryModal();
                loadCategoriesPage();
                showNotification('ক্যাটাগরি সেভ করা হয়েছে', 'success');
            } else {
                throw new Error('Failed to save category');
            }
        } catch (error) {
            console.error('Error saving category:', error);
            showNotification('ক্যাটাগরি সেভ করতে সমস্যা হয়েছে', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    
    // ============================================
    // ক্যাটাগরি ডিলিট
    // ============================================
    async function deleteCategory(categoryId) {
        if (!confirm('আপনি কি নিশ্চিত যে এই ক্যাটাগরি ডিলিট করতে চান?')) return;
        
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/categories/${categoryId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                loadCategoriesPage();
                showNotification('ক্যাটাগরি ডিলিট করা হয়েছে', 'success');
            } else {
                const error = await response.json();
                showNotification(error.error || 'ডিলিট করতে সমস্যা হয়েছে', 'error');
            }
        } catch (error) {
            console.error('Error deleting category:', error);
            showNotification('ক্যাটাগরি ডিলিট করতে সমস্যা হয়েছে', 'error');
        }
    }
    
    // ============================================
    // ক্যাটাগরি মডাল বন্ধ
    // ============================================
    function hideCategoryModal() {
        document.getElementById('category-modal').classList.remove('active');
    }
    
    // ============================================
    // নোটিফিকেশন সিস্টেম
    // ============================================
    function startNotificationPolling() {
        if (notificationInterval) clearInterval(notificationInterval);
        checkNotifications();
        notificationInterval = setInterval(checkNotifications, 30000);
    }
    
    async function checkNotifications() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/notifications`);
            if (response.ok) {
                const data = await response.json();
                notifications = data;
                updateNotificationUI();
                showDesktopNotifications(data);
            }
        } catch (error) {
            console.error('Error checking notifications:', error);
        }
    }
    
    function updateNotificationUI() {
        const totalUnread = (notifications.unreadOrders?.length || 0) + 
                           (notifications.unreadReviews?.length || 0) + 
                           (notifications.unreadContacts?.length || 0);
        
        // Update badges
        const orderBadge = document.getElementById('order-badge');
        const reviewBadge = document.getElementById('review-badge');
        const contactBadge = document.getElementById('contact-badge');
        const notificationCount = document.getElementById('notification-count');
        const mobileNotificationCount = document.getElementById('mobile-notification-count');
        
        if (orderBadge) {
            const count = notifications.unreadOrders?.length || 0;
            orderBadge.textContent = count;
            orderBadge.style.display = count > 0 ? 'block' : 'none';
        }
        
        if (reviewBadge) {
            const count = notifications.unreadReviews?.length || 0;
            reviewBadge.textContent = count;
            reviewBadge.style.display = count > 0 ? 'block' : 'none';
        }
        
        if (contactBadge) {
            const count = notifications.unreadContacts?.length || 0;
            contactBadge.textContent = count;
            contactBadge.style.display = count > 0 ? 'block' : 'none';
        }
        
        [notificationCount, mobileNotificationCount].forEach(badge => {
            if (badge) {
                if (totalUnread > 0) {
                    badge.textContent = totalUnread > 99 ? '99+' : totalUnread;
                    badge.classList.remove('hidden');
                } else {
                    badge.classList.add('hidden');
                }
            }
        });
        
        // Update notification dropdowns
        updateNotificationLists();
    }
    
    function updateNotificationLists() {
        updateNotificationList('notification-dropdown');
        updateNotificationList('mobile-notification-dropdown');
    }
    
    function updateNotificationList(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        const allNotifications = [
            ...(notifications.unreadOrders || []).map(item => ({ ...item, type: 'order' })),
            ...(notifications.unreadReviews || []).map(item => ({ ...item, type: 'review' })),
            ...(notifications.unreadContacts || []).map(item => ({ ...item, type: 'contact' }))
        ].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).slice(0, 10);
        
        let html = '<div class="p-4 border-b border-gray-200 flex justify-between items-center">';
        html += '<h3 class="font-bold text-gray-800">নোটিফিকেশন</h3>';
        html += '<button onclick="markAllAsRead()" class="text-sm text-blue-600 hover:text-blue-800">সব পড়া হয়েছে</button>';
        html += '</div>';
        
        if (allNotifications.length === 0) {
            html += '<div class="p-8 text-center text-gray-500"><i class="fas fa-bell-slash text-2xl mb-2"></i><p>কোনো নতুন নোটিফিকেশন নেই</p></div>';
        } else {
            html += '<div class="max-h-96 overflow-y-auto">';
            allNotifications.forEach(item => {
                const timeAgo = getTimeAgo(item.createdAt);
                
                if (item.type === 'order') {
                    html += `
                        <div class="notification-item unread" onclick="markAsRead('order', '${item._id}'); viewOrder('${item._id}'); hideAllNotifications();">
                            <div class="flex items-start">
                                <div class="text-green-600 mr-3 mt-1"><i class="fas fa-shopping-cart"></i></div>
                                <div class="flex-1">
                                    <p class="font-medium">নতুন অর্ডার #${item.orderId}</p>
                                    <p class="text-sm text-gray-600">${item.customerName} - ${item.productName}</p>
                                    <p class="text-xs text-gray-500 mt-1">${timeAgo}</p>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'review') {
                    html += `
                        <div class="notification-item unread" onclick="markAsRead('review', '${item._id}'); switchPage('reviews'); hideAllNotifications();">
                            <div class="flex items-start">
                                <div class="text-yellow-600 mr-3 mt-1"><i class="fas fa-star"></i></div>
                                <div class="flex-1">
                                    <p class="font-medium">নতুন রিভিউ</p>
                                    <p class="text-sm text-gray-600">${item.name} - ${item.rating}/5</p>
                                    <p class="text-xs text-gray-500 mt-1">${timeAgo}</p>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'contact') {
                    html += `
                        <div class="notification-item unread" onclick="markAsRead('contact', '${item._id}'); switchPage('contacts'); hideAllNotifications();">
                            <div class="flex items-start">
                                <div class="text-blue-600 mr-3 mt-1"><i class="fas fa-envelope"></i></div>
                                <div class="flex-1">
                                    <p class="font-medium">নতুন বার্তা</p>
                                    <p class="text-sm text-gray-600">${item.name} - ${item.phone}</p>
                                    <p class="text-xs text-gray-500 mt-1">${timeAgo}</p>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });
            html += '</div>';
            html += '<div class="p-4 text-center border-t border-gray-200">';
            html += '<a href="#" onclick="switchPage(\'orders\'); hideAllNotifications();" class="text-sm text-blue-600 hover:text-blue-800">সব অর্ডার দেখুন</a>';
            html += '</div>';
        }
        
        container.innerHTML = html;
    }
    
    // ============================================
    // নোটিফিকেশন মার্ক রিড
    // ============================================
    async function markAsRead(type, id) {
        try {
            await fetch(`${API_BASE_URL}/api/admin/notifications/read`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ type, id })
            });
            
            if (type === 'order') {
                notifications.unreadOrders = notifications.unreadOrders.filter(o => o._id !== id);
            } else if (type === 'review') {
                notifications.unreadReviews = notifications.unreadReviews.filter(r => r._id !== id);
            } else if (type === 'contact') {
                notifications.unreadContacts = notifications.unreadContacts.filter(c => c._id !== id);
            }
            
            updateNotificationUI();
        } catch (error) {
            console.error('Error marking as read:', error);
        }
    }
    
    async function markAllAsRead() {
        try {
            await fetch(`${API_BASE_URL}/api/admin/notifications/read`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ type: 'all' })
            });
            
            notifications.unreadOrders = [];
            notifications.unreadReviews = [];
            notifications.unreadContacts = [];
            
            updateNotificationUI();
            showNotification('সব নোটিফিকেশন পড়া হয়েছে', 'success');
            hideAllNotifications();
        } catch (error) {
            console.error('Error marking all as read:', error);
        }
    }
    
    function showDesktopNotifications(data) {
        if (Notification.permission === 'granted') {
            if (data.unreadOrders && data.unreadOrders.length > 0) {
                const order = data.unreadOrders[0];
                new Notification(`🆕 নতুন অর্ডার #${order.orderId}`, {
                    body: `${order.customerName} - ${order.productName}`,
                    icon: '/favicon.ico'
                });
            }
            if (data.unreadReviews && data.unreadReviews.length > 0) {
                const review = data.unreadReviews[0];
                new Notification(`⭐ নতুন রিভিউ`, {
                    body: `${review.name} - ${review.rating}/5`,
                    icon: '/favicon.ico'
                });
            }
        }
    }
    
    function requestNotificationPermission() {
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
    }
    
    // ============================================
    // নোটিফিকেশন টগল
    // ============================================
    function toggleDesktopNotifications() {
        const dropdown = document.getElementById('notification-dropdown');
        if (dropdown) {
            dropdown.classList.toggle('show');
            hideMobileNotifications();
        }
    }
    
    function toggleMobileNotifications() {
        const dropdown = document.getElementById('mobile-notification-dropdown');
        if (dropdown) {
            dropdown.classList.toggle('show');
            hideDesktopNotifications();
            
            if (window.innerWidth < 768) {
                document.body.style.overflow = dropdown.classList.contains('show') ? 'hidden' : '';
            }
        }
    }
    
    function hideDesktopNotifications() {
        const dropdown = document.getElementById('notification-dropdown');
        if (dropdown) dropdown.classList.remove('show');
    }
    
    function hideMobileNotifications() {
        const dropdown = document.getElementById('mobile-notification-dropdown');
        if (dropdown) {
            dropdown.classList.remove('show');
            if (window.innerWidth < 768) {
                document.body.style.overflow = '';
            }
        }
    }
    
    function hideAllNotifications() {
        hideDesktopNotifications();
        hideMobileNotifications();
    }
    
    // ============================================
    // ইউটিলিটি ফাংশন
    // ============================================
    function getStatusText(status) {
        const statusMap = {
            'pending': 'পেন্ডিং',
            'confirmed': 'কনফার্মড',
            'processing': 'প্রসেসিং',
            'shipped': 'শিপড',
            'delivered': 'ডেলিভার্ড',
            'cancelled': 'ক্যান্সেলড'
        };
        return statusMap[status] || status;
    }
    
    function getStarRatingHTML(rating) {
        let stars = '';
        for (let i = 1; i <= 5; i++) {
            stars += i <= rating ? 
                '<i class="fas fa-star text-yellow-500"></i>' : 
                '<i class="far fa-star text-yellow-500"></i>';
        }
        return stars;
    }
    
    function formatDate(dateString) {
        if (!dateString) return '';
        try {
            const date = new Date(dateString);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) return 'এখনই';
            if (diffMins < 60) return `${diffMins} মিনিট আগে`;
            if (diffHours < 24) return `${diffHours} ঘন্টা আগে`;
            if (diffDays < 7) return `${diffDays} দিন আগে`;
            
            return date.toLocaleDateString('bn-BD', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        } catch (e) {
            return dateString;
        }
    }
    
    function getTimeAgo(dateString) {
        return formatDate(dateString);
    }
    
    function updateDateTime() {
        const now = new Date();
        const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
        
        const currentDate = document.getElementById('current-date');
        const currentTime = document.getElementById('current-time');
        
        if (currentDate) {
            currentDate.textContent = now.toLocaleDateString('bn-BD', dateOptions);
        }
        if (currentTime) {
            currentTime.textContent = now.toLocaleTimeString('bn-BD', timeOptions);
        }
    }
    
    // ============================================
    // নোটিফিকেশন দেখান
    // ============================================
    function showNotification(message, type = 'info') {
        const container = document.getElementById('notification-container');
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        
        const icons = {
            success: 'fa-check-circle',
            error: 'fa-exclamation-circle',
            warning: 'fa-exclamation-triangle',
            info: 'fa-info-circle'
        };
        
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas ${icons[type] || icons.info} mr-3 text-xl"></i>
                <span class="flex-1">${message}</span>
                <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        container.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 5000);
    }
    
    // ============================================
    // মডাল বন্ধ
    // ============================================
    function hideAllModals() {
        document.querySelectorAll('.modal.active').forEach(modal => {
            modal.classList.remove('active');
        });
    }
    
    // ============================================
    // ড্যাশবোর্ড কন্টেন্ট লোড - ফাইনাল ভার্সন
    // ============================================
    async function loadDashboardContent() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/dashboard/stats`);
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            
            return `
                <div id="dashboard-page" class="page-content">
                    <!-- Statistics Cards -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="stat-card">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm mb-1">মোট অর্ডার</p>
                                    <p class="text-3xl font-bold">${data.totalOrders || 0}</p>
                                    <p class="text-sm text-gray-500 mt-2">আজ: ${data.todayOrders || 0}</p>
                                </div>
                                <div class="stat-icon bg-red-100 text-red-600">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100">
                                <span class="text-yellow-600 font-semibold">${data.pendingOrders || 0}</span>
                                <span class="text-gray-500 text-sm"> পেন্ডিং</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm mb-1">মোট আয়</p>
                                    <p class="text-3xl font-bold">${(data.totalRevenue || 0).toLocaleString()}</p>
                                    <p class="text-sm text-gray-500 mt-2">টাকা</p>
                                </div>
                                <div class="stat-icon bg-green-100 text-green-600">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100">
                                <span class="text-green-600 font-semibold">${data.deliveredOrders || 0}</span>
                                <span class="text-gray-500 text-sm"> ডেলিভার্ড</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm mb-1">মোট পণ্য</p>
                                    <p class="text-3xl font-bold">${data.totalProducts || 0}</p>
                                    <p class="text-sm text-gray-500 mt-2">সক্রিয়: ${data.activeProducts || 0}</p>
                                </div>
                                <div class="stat-icon bg-blue-100 text-blue-600">
                                    <i class="fas fa-tshirt"></i>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100">
                                <span class="text-blue-600 font-semibold">${data.featuredProducts || 0}</span>
                                <span class="text-gray-500 text-sm"> ফিচার্ড</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm mb-1">মোট রিভিউ</p>
                                    <p class="text-3xl font-bold">${data.totalReviews || 0}</p>
                                    <p class="text-sm text-gray-500 mt-2">পেন্ডিং: ${data.pendingReviews || 0}</p>
                                </div>
                                <div class="stat-icon bg-yellow-100 text-yellow-600">
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100">
                                <span class="text-purple-600 font-semibold">${data.featuredReviews || 0}</span>
                                <span class="text-gray-500 text-sm"> ফিচার্ড</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-chart-pie mr-2 text-red-600"></i>
                                অর্ডার স্ট্যাটাস
                            </h3>
                            <canvas id="orderStatusChart" height="200"></canvas>
                        </div>
                        <div class="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-chart-line mr-2 text-red-600"></i>
                                ক্যাটাগরি ও পণ্য
                            </h3>
                            <canvas id="categoryChart" height="200"></canvas>
                        </div>
                    </div>
                    
                    <!-- Recent Orders -->
                    <div class="bg-white rounded-xl border border-gray-200 mb-8">
                        <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                            <h3 class="font-bold text-gray-800 flex items-center">
                                <i class="fas fa-clock mr-2 text-yellow-500"></i>
                                সাম্প্রতিক অর্ডার
                            </h3>
                            <button onclick="switchPage('orders')" class="text-red-600 hover:text-red-800 text-sm font-medium">
                                সব অর্ডার দেখুন <i class="fas fa-arrow-right ml-1"></i>
                            </button>
                        </div>
                        <div class="p-6">
                            <div class="overflow-x-auto">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>অর্ডার আইডি</th>
                                            <th>গ্রাহক</th>
                                            <th>পণ্য</th>
                                            <th>মোট</th>
                                            <th>স্ট্যাটাস</th>
                                            <th>তারিখ</th>
                                            <th>ক্রিয়া</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recent-orders-table">
                                        ${data.recentOrders && data.recentOrders.length > 0 ? 
                                            data.recentOrders.map(order => `
                                                <tr>
                                                    <td class="font-mono text-sm">${order.orderId || 'N/A'}</td>
                                                    <td>
                                                        <div class="font-medium">${order.customerName || 'N/A'}</div>
                                                        <div class="text-xs text-gray-500">${order.phone || ''}</div>
                                                    </td>
                                                    <td>${order.productName || 'N/A'}</td>
                                                    <td>${order.totalPrice || 0} টাকা</td>
                                                    <td>
                                                        <span class="status-badge status-${order.status || 'pending'}">
                                                            ${getStatusText(order.status)}
                                                        </span>
                                                    </td>
                                                    <td>${formatDate(order.createdAt)}</td>
                                                    <td>
                                                        <button onclick="viewOrder('${order._id}')" 
                                                                class="text-blue-600 hover:text-blue-800">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            `).join('') : 
                                            `<tr><td colspan="7" class="p-8 text-center text-gray-500">কোনো অর্ডার নেই</td></tr>`
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-bolt mr-2 text-yellow-500"></i>
                                দ্রুত কাজ
                            </h3>
                            <div class="space-y-3">
                                <button onclick="showAddProductModal()" class="w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition flex items-center">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 mr-3">
                                        <i class="fas fa-plus"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">নতুন পণ্য যোগ করুন</p>
                                        <p class="text-sm text-gray-500">পণ্য তালিকায় নতুন আইটেম</p>
                                    </div>
                                </button>
                                
                                <button onclick="showAddSliderModal()" class="w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition flex items-center">
                                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 mr-3">
                                        <i class="fas fa-images"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">নতুন স্লাইডার যোগ করুন</p>
                                        <p class="text-sm text-gray-500">হোমপেজ স্লাইডার আপডেট</p>
                                    </div>
                                </button>
                                
                                <button onclick="showAddCouponModal()" class="w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition flex items-center">
                                    <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mr-3">
                                        <i class="fas fa-ticket-alt"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">নতুন কুপন যোগ করুন</p>
                                        <p class="text-sm text-gray-500">ডিসকাউন্ট কুপন তৈরি করুন</p>
                                    </div>
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-info-circle mr-2 text-blue-500"></i>
                                সারাংশ
                            </h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="text-sm text-gray-500">মোট ক্যাটাগরি</p>
                                        <p class="text-2xl font-bold">${data.totalCategories || 0}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">সক্রিয়</p>
                                        <p class="text-xl font-semibold text-green-600">${data.activeCategories || 0}</p>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="text-sm text-gray-500">মোট স্লাইডার</p>
                                        <p class="text-2xl font-bold">${data.totalSliders || 0}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">সক্রিয়</p>
                                        <p class="text-xl font-semibold text-green-600">${data.activeSliders || 0}</p>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="text-sm text-gray-500">অপঠিত বার্তা</p>
                                        <p class="text-2xl font-bold text-red-600">${data.unreadContacts || 0}</p>
                                    </div>
                                    <div>
                                        <p class="text-sm text-gray-500">মোট কন্টাক্ট</p>
                                        <p class="text-xl font-semibold">${data.totalContacts || 0}</p>
                                    </div>
                                </div>
                                <div class="pt-4 mt-2 border-t border-gray-200">
                                    <p class="text-sm text-gray-500 mb-1">সর্বশেষ আপডেট</p>
                                    <p class="text-sm font-medium">${new Date().toLocaleString('bn-BD')}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
        } catch (error) {
            console.error('Dashboard content error:', error);
            return `
                <div class="flex flex-col items-center justify-center h-64 bg-white rounded-xl border border-gray-200 p-8">
                    <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ড্যাশবোর্ড লোড করতে সমস্যা হয়েছে</h3>
                    <p class="text-gray-600 mb-6">${error.message || 'সার্ভার থেকে ডেটা আনা যায়নি'}</p>
                    <div class="flex space-x-4">
                        <button onclick="loadDashboard()" class="btn btn-primary">
                            <i class="fas fa-sync mr-2"></i>
                            আবার চেষ্টা করুন
                        </button>
                        <button onclick="checkAPIConnection()" class="btn btn-outline">
                            <i class="fas fa-plug mr-2"></i>
                            API চেক করুন
                        </button>
                    </div>
                </div>
            `;
        }
    }
    
    // ============================================
    // ড্যাশবোর্ড লোড - শুধু একটি ফাংশন রাখুন
    // ============================================
    async function loadDashboard() {
        try {
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = '<div class="flex justify-center items-center h-64"><div class="spinner mr-3"></div><p class="text-gray-600">ড্যাশবোর্ড লোড হচ্ছে...</p></div>';
            
            const content = await loadDashboardContent();
            contentArea.innerHTML = content;
            
            // চার্ট লোড করতে একটু সময় নিন
            setTimeout(() => {
                initializeCharts();
            }, 200);
            
        } catch (error) {
            console.error('Dashboard load error:', error);
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = `
                <div class="flex flex-col items-center justify-center h-64 bg-white rounded-xl border border-gray-200 p-8">
                    <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ড্যাশবোর্ড লোড করতে সমস্যা হয়েছে</h3>
                    <p class="text-gray-600 mb-6">${error.message || 'অজানা ত্রুটি'}</p>
                    <button onclick="loadDashboard()" class="btn btn-primary">
                        <i class="fas fa-sync mr-2"></i>
                        আবার চেষ্টা করুন
                    </button>
                </div>
            `;
        }
    }
    
    // ============================================
    // চার্ট ইনিশিয়ালাইজ
    // ============================================
    async function initializeCharts() {
        try {
            const response = await fetch(`${API_BASE_URL}/api/admin/dashboard/stats`);
            const data = await response.json();
            
            // অর্ডার স্ট্যাটাস চার্ট
            const orderCtx = document.getElementById('orderStatusChart')?.getContext('2d');
            if (orderCtx) {
                // আগের চার্ট মুছে ফেলুন
                const existingChart = Chart.getChart(orderCtx);
                if (existingChart) {
                    existingChart.destroy();
                }
                
                new Chart(orderCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['পেন্ডিং', 'কনফার্মড', 'প্রসেসিং', 'শিপড', 'ডেলিভার্ড', 'ক্যান্সেলড'],
                        datasets: [{
                            data: [
                                data.pendingOrders || 0,
                                data.confirmedOrders || 0,
                                data.processingOrders || 0,
                                data.shippedOrders || 0,
                                data.deliveredOrders || 0,
                                data.cancelledOrders || 0
                            ],
                            backgroundColor: ['#f59e0b', '#3b82f6', '#8b5cf6', '#06b6d4', '#10b981', '#ef4444'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: { position: 'bottom' }
                        }
                    }
                });
            }
            
            // ক্যাটাগরি চার্ট
            const categoryCtx = document.getElementById('categoryChart')?.getContext('2d');
            if (categoryCtx) {
                const existingChart = Chart.getChart(categoryCtx);
                if (existingChart) {
                    existingChart.destroy();
                }
                
                new Chart(categoryCtx, {
                    type: 'bar',
                    data: {
                        labels: ['পণ্য', 'ক্যাটাগরি', 'স্লাইডার', 'রিভিউ'],
                        datasets: [{
                            data: [
                                data.totalProducts || 0,
                                data.totalCategories || 0,
                                data.totalSliders || 0,
                                data.totalReviews || 0
                            ],
                            backgroundColor: ['#dc2626', '#3b82f6', '#8b5cf6', '#f59e0b'],
                            borderRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: { beginAtZero: true }
                        }
                    }
                });
            }
            
        } catch (error) {
            console.error('Chart initialization error:', error);
        }
    }
    
    // ============================================
    // API কানেকশন চেক
    // ============================================
    async function checkAPIConnection() {
        try {
            showNotification('API কানেকশন চেক করা হচ্ছে...', 'info');
            
            const response = await fetch(`${API_BASE_URL}/health`);
            
            if (response.ok) {
                const data = await response.json();
                showNotification(`✅ API সংযুক্ত! ডাটাবেস: ${data.database}`, 'success');
                console.log('API Health Check:', data);
            } else {
                throw new Error(`HTTP ${response.status}`);
            }
        } catch (error) {
            console.error('API Connection Error:', error);
            showNotification(`❌ API সংযোগ ব্যর্থ: ${error.message}`, 'error');
            alert(`API URL: ${API_BASE_URL}\nError: ${error.message}\n\nনিশ্চিত করুন যে সার্ভার চলছে এবং URL সঠিক।`);
        }
    }
    
    // ============================================
    // গ্লোবাল ফাংশন এক্সপোর্ট
    // ============================================
    window.switchPage = switchPage;
    window.loadPageContent = loadPageContent;
    window.showAddProductModal = showAddProductModal;
    window.showAddSliderModal = showAddSliderModal;
    window.showAddCategoryModal = showAddCategoryModal;
    window.showAddCouponModal = showAddCouponModal;
    window.editProduct = editProduct;
    window.deleteProduct = deleteProduct;
    window.editCategory = editCategory;
    window.deleteCategory = deleteCategory;
    window.editSlider = editSlider;
    window.deleteSlider = deleteSlider;
    window.viewOrder = viewOrder;
    window.approveReview = approveReview;
    window.toggleFeatureReview = toggleFeatureReview;
    window.showReplyForm = showReplyForm;
    window.hideReplyForm = hideReplyForm;
    window.submitReply = submitReply;
    window.deleteReview = deleteReview;
    window.markContactRead = markContactRead;
    window.deleteContact = deleteContact;
    window.editCoupon = editCoupon;
    window.deleteCoupon = deleteCoupon;
    window.filterOrders = filterOrders;
    window.filterReviews = filterReviews;
    window.filterContacts = filterContacts;
    window.markAsRead = markAsRead;
    window.markAllAsRead = markAllAsRead;
    window.hideAllNotifications = hideAllNotifications;


    
</script>

</body>
</html>